
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Release notes &#8212; Psycopg 2.9.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/better.css" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19287248-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19287248-2');
    </script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="_static/psycopg.css" type="text/css" />
  </head><body>
    <header id="pageheader"><h1><a href="index.html ">
        Psycopg 2.9.3 documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="faq.html" title="Previous document">Frequently Asked Questions</a>
        </li>
        <li>
          <a href="license.html" title="Next document">License</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="release-notes">
<span id="index-0"></span><h1>Release notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<section id="current-release">
<h2>Current release<a class="headerlink" href="#current-release" title="Permalink to this headline">¶</a></h2>
<section id="what-s-new-in-psycopg-2-9-3">
<h3>What’s new in psycopg 2.9.3<a class="headerlink" href="#what-s-new-in-psycopg-2-9-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Alpine (musl) wheels now available (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1392">#1392</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-9-2">
<h3>What’s new in psycopg 2.9.2<a class="headerlink" href="#what-s-new-in-psycopg-2-9-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a> for dates &gt;= Y10k (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1307">#1307</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map and <a class="reference internal" href="errors.html#module-psycopg2.errors" title="psycopg2.errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errors</span></code></a> classes updated to
PostgreSQL 14.</p></li>
<li><p>Add preliminary support for Python 3.11 (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1376">#1376</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1386">#1386</a>).</p></li>
<li><p>Wheel package compiled against OpenSSL 1.1.1l and PostgreSQL 14.1
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1388">#1388</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-9-1">
<h3>What’s new in psycopg 2.9.1<a class="headerlink" href="#what-s-new-in-psycopg-2-9-1" title="Permalink to this headline">¶</a></h3>
<p>Fix regression with named <code class="xref py py-obj docutils literal notranslate"><span class="pre">sql.Placeholder</span></code> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1291">#1291</a>).</p>
</section>
</section>
<section id="what-s-new-in-psycopg-2-9">
<h2>What’s new in psycopg 2.9<a class="headerlink" href="#what-s-new-in-psycopg-2-9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">connection</span></code> starts a transaction on autocommit transactions too
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/941">#941</a>).</p></li>
<li><p>Timezones with fractional minutes are supported on Python 3.7 and following
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1272">#1272</a>).</p></li>
<li><p>Escape table and column names in <a class="reference internal" href="cursor.html#cursor.copy_from" title="cursor.copy_from"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_from()</span></code></a> and
<a class="reference internal" href="cursor.html#cursor.copy_to" title="cursor.copy_to"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_to()</span></code></a>.</p></li>
<li><p>Connection exceptions with sqlstate <code class="docutils literal notranslate"><span class="pre">08XXX</span></code> reclassified as
<a class="reference internal" href="module.html#psycopg2.OperationalError" title="psycopg2.OperationalError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OperationalError</span></code></a> (a subclass of the previously used
<a class="reference internal" href="module.html#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>) (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1148">#1148</a>).</p></li>
<li><p>Include library dirs required from libpq to work around MacOS build problems
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1200">#1200</a>).</p></li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li><p>Dropped support for Python 2.7, 3.4, 3.5 (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1198">#1198</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1000">#1000</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1197">#1197</a>).</p></li>
<li><p>Dropped support for mx.DateTime.</p></li>
<li><p>Use <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timezone" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.timezone</span></code></a> objects by default in datetime objects instead of
<a class="reference internal" href="tz.html#psycopg2.tz.FixedOffsetTimezone" title="psycopg2.tz.FixedOffsetTimezone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FixedOffsetTimezone</span></code></a>.</p></li>
<li><p>The <a class="reference internal" href="tz.html#module-psycopg2.tz" title="psycopg2.tz"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2.tz</span></code></a> module is deprecated and scheduled to be dropped in the
next major release.</p></li>
<li><p>Provide <span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0599"><strong>PEP 599</strong></a> wheels packages (manylinux2014 tag) for i686 and x86_64
platforms.</p></li>
<li><p>Provide <span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0600"><strong>PEP 600</strong></a> wheels packages (manylinux_2_24 tag) for aarch64 and
ppc64le platforms.</p></li>
<li><p>Wheel package compiled against OpenSSL 1.1.1k and PostgreSQL 13.3.</p></li>
<li><p>Build system for Linux/MacOS binary packages moved to GitHub Actions.</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-8-7">
<h3>What’s new in psycopg 2.8.7<a class="headerlink" href="#what-s-new-in-psycopg-2-8-7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Accept empty params as <a class="reference internal" href="module.html#psycopg2.connect" title="psycopg2.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect()</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1250">#1250</a>).</p></li>
<li><p>Fix attributes refcount in <code class="xref py py-obj docutils literal notranslate"><span class="pre">Column</span></code> initialisation (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1252">#1252</a>).</p></li>
<li><p>Allow re-initialisation of static variables in the C module (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1267">#1267</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-6">
<h3>What’s new in psycopg 2.8.6<a class="headerlink" href="#what-s-new-in-psycopg-2-8-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed memory leak changing connection encoding to the current one
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1101">#1101</a>).</p></li>
<li><p>Fixed search of mxDateTime headers in virtualenvs (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/996">#996</a>).</p></li>
<li><p>Added missing values from errorcodes (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1133">#1133</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.query" title="cursor.query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.query</span></code></a> reports the query of the last <code class="sql docutils literal notranslate"><span class="pre">COPY</span></code> operation too
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1141">#1141</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map and <a class="reference internal" href="errors.html#module-psycopg2.errors" title="psycopg2.errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errors</span></code></a> classes updated to
PostgreSQL 13.</p></li>
<li><p>Added wheel packages for ARM architecture (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1125">#1125</a>).</p></li>
<li><p>Wheel package compiled against OpenSSL 1.1.1g.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-5">
<h3>What’s new in psycopg 2.8.5<a class="headerlink" href="#what-s-new-in-psycopg-2-8-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed use of <code class="xref py py-obj docutils literal notranslate"><span class="pre">connection_factory</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor_factory</span></code> together
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1019">#1019</a>).</p></li>
<li><p>Added support for <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.LoggerAdapter" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LoggerAdapter</span></code></a> in
<a class="reference internal" href="extras.html#psycopg2.extras.LoggingConnection" title="psycopg2.extras.LoggingConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LoggingConnection</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1026">#1026</a>).</p></li>
<li><p><a class="reference internal" href="extensions.html#psycopg2.extensions.Column" title="psycopg2.extensions.Column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Column</span></code></a> objects in <a class="reference internal" href="cursor.html#cursor.description" title="cursor.description"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.description</span></code></a> can be sliced
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1034">#1034</a>).</p></li>
<li><p>Added AIX support (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1061">#1061</a>).</p></li>
<li><p>Fixed <code class="xref py py-obj docutils literal notranslate"><span class="pre">copy()</span></code> of <a class="reference internal" href="extras.html#psycopg2.extras.DictCursor" title="psycopg2.extras.DictCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DictCursor</span></code></a> rows (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/1073">#1073</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-4">
<h3>What’s new in psycopg 2.8.4<a class="headerlink" href="#what-s-new-in-psycopg-2-8-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed building with Python 3.8 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/854">#854</a>).</p></li>
<li><p>Don’t swallow keyboard interrupts on connect when a password is specified
in the connection string (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/898">#898</a>).</p></li>
<li><p>Don’t advance replication cursor when the message wasn’t confirmed
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/940">#940</a>).</p></li>
<li><p>Fixed inclusion of <code class="docutils literal notranslate"><span class="pre">time.h</span></code> on linux (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/951">#951</a>).</p></li>
<li><p>Fixed int overflow for large values in <a class="reference internal" href="extensions.html#psycopg2.extensions.Column.table_oid" title="psycopg2.extensions.Column.table_oid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_oid</span></code></a>
and <a class="reference internal" href="extensions.html#psycopg2.extensions.Column.type_code" title="psycopg2.extensions.Column.type_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">type_code</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/961">#961</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map and <a class="reference internal" href="errors.html#module-psycopg2.errors" title="psycopg2.errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errors</span></code></a> classes updated to
PostgreSQL 12.</p></li>
<li><p>Wheel package compiled against OpenSSL 1.1.1d and PostgreSQL at least 11.4.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-3">
<h3>What’s new in psycopg 2.8.3<a class="headerlink" href="#what-s-new-in-psycopg-2-8-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added <em>interval_status</em> parameter to
<a class="reference internal" href="extras.html#psycopg2.extras.ReplicationCursor.start_replication" title="psycopg2.extras.ReplicationCursor.start_replication"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_replication()</span></code></a> method and other
facilities to send automatic replication keepalives at periodic intervals
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/913">#913</a>).</p></li>
<li><p>Fixed namedtuples caching introduced in 2.8 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/928">#928</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-2">
<h3>What’s new in psycopg 2.8.2<a class="headerlink" href="#what-s-new-in-psycopg-2-8-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed <a class="reference internal" href="extras.html#psycopg2.extras.RealDictCursor" title="psycopg2.extras.RealDictCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RealDictCursor</span></code></a> when there are repeated columns
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/884">#884</a>).</p></li>
<li><p>Binary packages built with openssl 1.1.1b. Should fix concurrency problems
(tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/543">#543</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/836">#836</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-8-1">
<h3>What’s new in psycopg 2.8.1<a class="headerlink" href="#what-s-new-in-psycopg-2-8-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed <a class="reference internal" href="extras.html#psycopg2.extras.RealDictRow" title="psycopg2.extras.RealDictRow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RealDictRow</span></code></a> modifiability (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/886">#886</a>).</p></li>
<li><p>Fixed “there’s no async cursor” error polling a connection with no cursor
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/887">#887</a>).</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-8">
<h2>What’s new in psycopg 2.8<a class="headerlink" href="#what-s-new-in-psycopg-2-8" title="Permalink to this headline">¶</a></h2>
<p>New features:</p>
<ul class="simple">
<li><p>Added <a class="reference internal" href="errors.html#module-psycopg2.errors" title="psycopg2.errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errors</span></code></a> module. Every PostgreSQL error is converted into
a specific exception class (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/682">#682</a>).</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.encrypt_password" title="psycopg2.extensions.encrypt_password"><code class="xref py py-obj docutils literal notranslate"><span class="pre">encrypt_password()</span></code></a> function (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/576">#576</a>).</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.BYTES" title="psycopg2.extensions.BYTES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BYTES</span></code></a> adapter to manage databases with mixed
encodings on Python 3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/835">#835</a>).</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.Column.table_oid" title="psycopg2.extensions.Column.table_oid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_oid</span></code></a> and
<a class="reference internal" href="extensions.html#psycopg2.extensions.Column.table_column" title="psycopg2.extensions.Column.table_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_column</span></code></a> attributes on <a class="reference internal" href="cursor.html#cursor.description" title="cursor.description"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.description</span></code></a>
items (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/661">#661</a>).</p></li>
<li><p>Added <a class="reference internal" href="connection.html#connection.info" title="connection.info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection.info</span></code></a> object to retrieve various PostgreSQL connection
information (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/726">#726</a>).</p></li>
<li><p>Added <a class="reference internal" href="connection.html#connection.get_native_connection" title="connection.get_native_connection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_native_connection()</span></code></a> to expose the raw <code class="docutils literal notranslate"><span class="pre">PGconn</span></code>
structure to C extensions via Capsule (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/782">#782</a>).</p></li>
<li><p>Added <a class="reference internal" href="connection.html#connection.pgconn_ptr" title="connection.pgconn_ptr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pgconn_ptr</span></code></a> and <a class="reference internal" href="cursor.html#cursor.pgresult_ptr" title="cursor.pgresult_ptr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pgresult_ptr</span></code></a> to expose raw
C structures to Python and interact with libpq via ctypes (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/782">#782</a>).</p></li>
<li><p><a class="reference internal" href="sql.html#psycopg2.sql.Identifier" title="psycopg2.sql.Identifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Identifier</span></code></a> can represent qualified names in SQL composition
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/732">#732</a>).</p></li>
<li><p>Added <code class="xref py py-obj docutils literal notranslate"><span class="pre">ReplicationCursor</span></code>.<a class="reference internal" href="extras.html#psycopg2.extras.ReplicationCursor.wal_end" title="psycopg2.extras.ReplicationCursor.wal_end"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wal_end</span></code></a>
attribute (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/800">#800</a>).</p></li>
<li><p>Added <em>fetch</em> parameter to <a class="reference internal" href="extras.html#psycopg2.extras.execute_values" title="psycopg2.extras.execute_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute_values()</span></code></a> function
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/813">#813</a>).</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">str()</span></code> on <a class="reference internal" href="extras.html#psycopg2.extras.Range" title="psycopg2.extras.Range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Range</span></code></a> produces a human-readable representation
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/773">#773</a>).</p></li>
<li><p><a class="reference internal" href="extras.html#psycopg2.extras.DictCursor" title="psycopg2.extras.DictCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DictCursor</span></code></a> and <a class="reference internal" href="extras.html#psycopg2.extras.RealDictCursor" title="psycopg2.extras.RealDictCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RealDictCursor</span></code></a> rows
maintain columns order (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/177">#177</a>).</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.Diagnostics.severity_nonlocalized" title="psycopg2.extensions.Diagnostics.severity_nonlocalized"><code class="xref py py-obj docutils literal notranslate"><span class="pre">severity_nonlocalized</span></code></a> attribute on
the <a class="reference internal" href="extensions.html#psycopg2.extensions.Diagnostics" title="psycopg2.extensions.Diagnostics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Diagnostics</span></code></a> object (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/783">#783</a>).</p></li>
<li><p>More efficient <a class="reference internal" href="extras.html#psycopg2.extras.NamedTupleCursor" title="psycopg2.extras.NamedTupleCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NamedTupleCursor</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/838">#838</a>).</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed connections occasionally broken by the unrelated use of the
multiprocessing module (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/829">#829</a>).</p></li>
<li><p>Fixed async communication blocking if results are returned in different
chunks, e.g. with notices interspersed to the results (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/856">#856</a>).</p></li>
<li><p>Fixed adaptation of numeric subclasses such as <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntEnum</span></code></a>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/591">#591</a>).</p></li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li><p>Dropped support for Python 2.6, 3.2, 3.3.</p></li>
<li><p>Dropped <code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg1</span></code> module.</p></li>
<li><p>Dropped deprecated <code class="xref py py-obj docutils literal notranslate"><span class="pre">register_tstz_w_secs()</span></code> (was previously a no-op).</p></li>
<li><p>Dropped deprecated <code class="xref py py-obj docutils literal notranslate"><span class="pre">PersistentConnectionPool</span></code>. This pool class was mostly
designed to interact with Zope. Use <code class="xref py py-obj docutils literal notranslate"><span class="pre">ZPsycopgDA.pool</span></code> instead.</p></li>
<li><p>Binary packages no longer installed by default. The ‘psycopg2-binary’
package must be used explicitly.</p></li>
<li><p>Dropped <code class="xref py py-obj docutils literal notranslate"><span class="pre">PSYCOPG_DISPLAY_SIZE</span></code> build parameter.</p></li>
<li><p>Dropped support for mxDateTime as the default date and time adapter.
mxDatetime support continues to be available as an alternative to Python’s
builtin datetime.</p></li>
<li><p>No longer use 2to3 during installation for Python 2 &amp; 3 compatibility. All
source files are now compatible with Python 2 &amp; 3 as is.</p></li>
<li><p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2.test</span></code> package is no longer installed by <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span>
<span class="pre">install</span></code>.</p></li>
<li><p>Wheel package compiled against OpenSSL 1.0.2r and PostgreSQL 11.2 libpq.</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-7-7">
<h3>What’s new in psycopg 2.7.7<a class="headerlink" href="#what-s-new-in-psycopg-2-7-7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Cleanup of the cursor results assignment code, which might have solved
double free and inconsistencies in concurrent usage (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/346">#346</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/384">#384</a>).</p></li>
<li><p>Wheel package compiled against OpenSSL 1.0.2q.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-6-1">
<h3>What’s new in psycopg 2.7.6.1<a class="headerlink" href="#what-s-new-in-psycopg-2-7-6-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed binary package broken on OS X 10.12 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/807">#807</a>).</p></li>
<li><p>Wheel package compiled against PostgreSQL 11.1 libpq.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-6">
<h3>What’s new in psycopg 2.7.6<a class="headerlink" href="#what-s-new-in-psycopg-2-7-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Close named cursors if exist, even if <a class="reference internal" href="cursor.html#cursor.execute" title="cursor.execute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute()</span></code></a> wasn’t called
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/746">#746</a>).</p></li>
<li><p>Fixed building on modern FreeBSD versions with Python 3.7 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/755">#755</a>).</p></li>
<li><p>Fixed hang trying to <code class="sql docutils literal notranslate"><span class="pre">COPY</span></code> via <a class="reference internal" href="cursor.html#cursor.execute" title="cursor.execute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute()</span></code></a> in asynchronous
connections (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/781">#781</a>).</p></li>
<li><p>Fixed adaptation of arrays of empty arrays (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/788">#788</a>).</p></li>
<li><p>Fixed segfault accessing the connection’s <a class="reference internal" href="connection.html#connection.readonly" title="connection.readonly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readonly</span></code></a> and
<a class="reference internal" href="connection.html#connection.deferrable" title="connection.deferrable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deferrable</span></code></a> attributes repeatedly (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/790">#790</a>).</p></li>
<li><p><a class="reference internal" href="extras.html#psycopg2.extras.execute_values" title="psycopg2.extras.execute_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute_values()</span></code></a> accepts <a class="reference internal" href="sql.html#psycopg2.sql.Composable" title="psycopg2.sql.Composable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Composable</span></code></a>
objects (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/794">#794</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map updated to PostgreSQL 11.</p></li>
<li><p>Wheel package compiled against PostgreSQL 10.5 libpq and OpenSSL 1.0.2p.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-5">
<h3>What’s new in psycopg 2.7.5<a class="headerlink" href="#what-s-new-in-psycopg-2-7-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Allow non-ascii chars in namedtuple fields (regression introduced fixing
ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/211">#211</a>).</p></li>
<li><p>Fixed adaptation of arrays of arrays of nulls (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/325">#325</a>).</p></li>
<li><p>Fixed building on Solaris 11 and derivatives such as SmartOS and illumos
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/677">#677</a>).</p></li>
<li><p>Maybe fixed building on MSYS2 (as reported in ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/658">#658</a>).</p></li>
<li><p>Allow string subclasses in connection and other places (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/679">#679</a>).</p></li>
<li><p>Don’t raise an exception closing an unused named cursor (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/716">#716</a>).</p></li>
<li><p>Wheel package compiled against PostgreSQL 10.4 libpq and OpenSSL 1.0.2o.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-4">
<h3>What’s new in psycopg 2.7.4<a class="headerlink" href="#what-s-new-in-psycopg-2-7-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Moving away from installing the wheel package by default.
Packages installed from wheel raise a warning on import. Added package
<code class="docutils literal notranslate"><span class="pre">psycopg2-binary</span></code> to install from wheel instead (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/543">#543</a>).</p></li>
<li><p>Convert fields names into valid Python identifiers in
<a class="reference internal" href="extras.html#psycopg2.extras.NamedTupleCursor" title="psycopg2.extras.NamedTupleCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NamedTupleCursor</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/211">#211</a>).</p></li>
<li><p>Fixed Solaris 10 support (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/532">#532</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.mogrify" title="cursor.mogrify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.mogrify()</span></code></a> can be called on closed cursors (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/579">#579</a>).</p></li>
<li><p>Fixed setting session characteristics in corner cases on autocommit
connections (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/580">#580</a>).</p></li>
<li><p>Fixed <a class="reference internal" href="extras.html#psycopg2.extras.MinTimeLoggingCursor" title="psycopg2.extras.MinTimeLoggingCursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MinTimeLoggingCursor</span></code></a> on Python 3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/609">#609</a>).</p></li>
<li><p>Fixed parsing of array of points as floats (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/613">#613</a>).</p></li>
<li><p>Fixed <a class="reference internal" href="module.html#psycopg2.__libpq_version__" title="psycopg2.__libpq_version__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__libpq_version__</span></code></a> building with libpq &gt;= 10.1
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/632">#632</a>).</p></li>
<li><p>Fixed <a class="reference internal" href="cursor.html#cursor.rowcount" title="cursor.rowcount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rowcount</span></code></a> after <a class="reference internal" href="cursor.html#cursor.executemany" title="cursor.executemany"><code class="xref py py-obj docutils literal notranslate"><span class="pre">executemany()</span></code></a> with <code class="sql docutils literal notranslate"><span class="pre">RETURNING</span></code>
statements (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/633">#633</a>).</p></li>
<li><p>Fixed compatibility problem with pypy3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/649">#649</a>).</p></li>
<li><p>Wheel packages compiled against PostgreSQL 10.1 libpq and OpenSSL 1.0.2n.</p></li>
<li><p>Wheel packages for Python 2.6 no more available (support dropped from
wheel building infrastructure).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-3-2">
<h3>What’s new in psycopg 2.7.3.2<a class="headerlink" href="#what-s-new-in-psycopg-2-7-3-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Wheel package compiled against PostgreSQL 10.0 libpq and OpenSSL 1.0.2l
(tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/601">#601</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/602">#602</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-3-1">
<h3>What’s new in psycopg 2.7.3.1<a class="headerlink" href="#what-s-new-in-psycopg-2-7-3-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Dropped libresolv from wheel package to avoid incompatibility with
glibc 2.26 (wheels ticket #2).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-3">
<h3>What’s new in psycopg 2.7.3<a class="headerlink" href="#what-s-new-in-psycopg-2-7-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Restored default <code class="sql docutils literal notranslate"><span class="pre">timestamptz[]</span></code> typecasting to Python <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code>.
Regression introduced in Psycopg 2.7.2 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/578">#578</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-2">
<h3>What’s new in psycopg 2.7.2<a class="headerlink" href="#what-s-new-in-psycopg-2-7-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed inconsistent state in externally closed connections
(tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/263">#263</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/311">#311</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/443">#443</a>). Was fixed in 2.6.2 but not included in
2.7 by mistake.</p></li>
<li><p>Fixed Python exceptions propagation in green callback (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/410">#410</a>).</p></li>
<li><p>Don’t display the password in <a class="reference internal" href="connection.html#connection.dsn" title="connection.dsn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection.dsn</span></code></a> when the connection
string is specified as an URI (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/528">#528</a>).</p></li>
<li><p>Return objects with timezone parsing “infinity” <code class="sql docutils literal notranslate"><span class="pre">timestamptz</span></code>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/536">#536</a>).</p></li>
<li><p>Dropped dependency on VC9 runtime on Windows binary packages
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/541">#541</a>).</p></li>
<li><p>Fixed segfault in <a class="reference internal" href="connection.html#connection.lobject" title="connection.lobject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lobject()</span></code></a> when <em>mode</em>=<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/544">#544</a>).</p></li>
<li><p>Fixed <a class="reference internal" href="connection.html#connection.lobject" title="connection.lobject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lobject()</span></code></a> keyword argument <em>lobject_factory</em>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/545">#545</a>).</p></li>
<li><p>Fixed <a class="reference internal" href="extras.html#psycopg2.extras.ReplicationCursor.consume_stream" title="psycopg2.extras.ReplicationCursor.consume_stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">consume_stream()</span></code></a>
<em>keepalive_interval</em> argument (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/547">#547</a>).</p></li>
<li><p>Maybe fixed random import error on Python 3.6 in multiprocess
environment (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/550">#550</a>).</p></li>
<li><p>Fixed random <code class="xref py py-obj docutils literal notranslate"><span class="pre">SystemError</span></code> upon receiving abort signal (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/551">#551</a>).</p></li>
<li><p>Accept <a class="reference internal" href="sql.html#psycopg2.sql.Composable" title="psycopg2.sql.Composable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Composable</span></code></a> objects in
<a class="reference internal" href="extras.html#psycopg2.extras.ReplicationCursor.start_replication_expert" title="psycopg2.extras.ReplicationCursor.start_replication_expert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_replication_expert()</span></code></a>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/554">#554</a>).</p></li>
<li><p>Parse intervals returned as microseconds from Redshift (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/558">#558</a>).</p></li>
<li><p>Added <a class="reference internal" href="extras.html#psycopg2.extras.Json" title="psycopg2.extras.Json"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Json</span></code></a> <code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare()</span></code> method to consider connection
params when adapting (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/562">#562</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map updated to PostgreSQL 10 beta 1.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-7-1">
<h3>What’s new in psycopg 2.7.1<a class="headerlink" href="#what-s-new-in-psycopg-2-7-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Ignore <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> arguments passed to <a class="reference internal" href="module.html#psycopg2.connect" title="psycopg2.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect()</span></code></a> and
<a class="reference internal" href="extensions.html#psycopg2.extensions.make_dsn" title="psycopg2.extensions.make_dsn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_dsn()</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/517">#517</a>).</p></li>
<li><p>OpenSSL upgraded from major version 0.9.8 to 1.0.2 in the Linux wheel
packages (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/518">#518</a>).</p></li>
<li><p>Fixed build with libpq versions &lt; 9.3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/520">#520</a>).</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-7">
<h2>What’s new in psycopg 2.7<a class="headerlink" href="#what-s-new-in-psycopg-2-7" title="Permalink to this headline">¶</a></h2>
<p>New features:</p>
<ul class="simple">
<li><p>Added <a class="reference internal" href="sql.html#module-psycopg2.sql" title="psycopg2.sql"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sql</span></code></a> module to generate SQL dynamically (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/308">#308</a>).</p></li>
<li><p>Added <a class="reference internal" href="advanced.html#replication-support"><span class="std std-ref">Replication protocol support</span></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/322">#322</a>). Main authors are
Oleksandr Shulgin and Craig Ringer, who deserve a huge thank you.</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.parse_dsn" title="psycopg2.extensions.parse_dsn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_dsn()</span></code></a> and
<a class="reference internal" href="extensions.html#psycopg2.extensions.make_dsn" title="psycopg2.extensions.make_dsn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_dsn()</span></code></a> functions (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/321">#321</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/363">#363</a>).
<a class="reference internal" href="module.html#psycopg2.connect" title="psycopg2.connect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect()</span></code></a> now can take both <em>dsn</em> and keyword arguments, merging
them together.</p></li>
<li><p>Added <a class="reference internal" href="module.html#psycopg2.__libpq_version__" title="psycopg2.__libpq_version__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__libpq_version__</span></code></a> and
<a class="reference internal" href="extensions.html#psycopg2.extensions.libpq_version" title="psycopg2.extensions.libpq_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">libpq_version()</span></code></a> to inspect the version of the
<code class="docutils literal notranslate"><span class="pre">libpq</span></code> library the module was compiled/loaded with
(tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/35">#35</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/323">#323</a>).</p></li>
<li><p>The attributes <a class="reference internal" href="connection.html#connection.notices" title="connection.notices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">notices</span></code></a> and <a class="reference internal" href="connection.html#connection.notifies" title="connection.notifies"><code class="xref py py-obj docutils literal notranslate"><span class="pre">notifies</span></code></a> can be
customized replacing them with any object exposing an <code class="xref py py-obj docutils literal notranslate"><span class="pre">append()</span></code> method
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/326">#326</a>).</p></li>
<li><p>Adapt network types to <a class="reference external" href="https://docs.python.org/3/library/ipaddress.html#module-ipaddress" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ipaddress</span></code></a> objects when available. When not
enabled, convert arrays of network types to lists by default. The old <code class="xref py py-obj docutils literal notranslate"><span class="pre">Inet</span></code>
adapter is deprecated (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/317">#317</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/343">#343</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/387">#387</a>).</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.quote_ident" title="psycopg2.extensions.quote_ident"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quote_ident()</span></code></a> function (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/359">#359</a>).</p></li>
<li><p>Added <a class="reference internal" href="connection.html#connection.get_dsn_parameters" title="connection.get_dsn_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_dsn_parameters()</span></code></a> connection method (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/364">#364</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.callproc" title="cursor.callproc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callproc()</span></code></a> now accepts a dictionary of parameters (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/381">#381</a>).</p></li>
<li><p>Give precedence to <code class="xref py py-obj docutils literal notranslate"><span class="pre">__conform__()</span></code> over superclasses to choose an object
adapter (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/456">#456</a>).</p></li>
<li><p>Using Python C API decoding functions and codecs caching for faster
unicode encoding/decoding (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/473">#473</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.executemany" title="cursor.executemany"><code class="xref py py-obj docutils literal notranslate"><span class="pre">executemany()</span></code></a> slowness addressed by
<a class="reference internal" href="extras.html#psycopg2.extras.execute_batch" title="psycopg2.extras.execute_batch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute_batch()</span></code></a> and <a class="reference internal" href="extras.html#psycopg2.extras.execute_values" title="psycopg2.extras.execute_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute_values()</span></code></a>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/491">#491</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">async_</span></code> as an alias for <code class="docutils literal notranslate"><span class="pre">async</span></code> to support Python 3.7 where
<code class="docutils literal notranslate"><span class="pre">async</span></code> will become a keyword (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/495">#495</a>).</p></li>
<li><p>Unless in autocommit, do not use <code class="sql docutils literal notranslate"><span class="pre">default_transaction_*</span></code> settings to
control the session characteristics as it may create problems with external
connection pools such as pgbouncer; use <code class="sql docutils literal notranslate"><span class="pre">BEGIN</span></code> options instead
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/503">#503</a>).</p></li>
<li><p><a class="reference internal" href="connection.html#connection.isolation_level" title="connection.isolation_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isolation_level</span></code></a> is now writable and entirely separated from
<a class="reference internal" href="connection.html#connection.autocommit" title="connection.autocommit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">autocommit</span></code></a>; added <a class="reference internal" href="connection.html#connection.readonly" title="connection.readonly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readonly</span></code></a>,
<a class="reference internal" href="connection.html#connection.deferrable" title="connection.deferrable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deferrable</span></code></a> writable attributes.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Throw an exception trying to pass <code class="docutils literal notranslate"><span class="pre">NULL</span></code> chars as parameters
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/420">#420</a>).</p></li>
<li><p>Fixed error caused by missing decoding <a class="reference internal" href="extras.html#psycopg2.extras.LoggingConnection" title="psycopg2.extras.LoggingConnection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LoggingConnection</span></code></a>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/483">#483</a>).</p></li>
<li><p>Fixed integer overflow in <code class="sql docutils literal notranslate"><span class="pre">interval</span></code> seconds (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/512">#512</a>).</p></li>
<li><p>Make <a class="reference internal" href="extras.html#psycopg2.extras.Range" title="psycopg2.extras.Range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Range</span></code></a> objects picklable (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/462">#462</a>).</p></li>
<li><p>Fixed version parsing and building with PostgreSQL 10 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/489">#489</a>).</p></li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li><p>Dropped support for Python 2.5 and 3.1.</p></li>
<li><p>Dropped support for client library older than PostgreSQL 9.1 (but older
server versions are still supported).</p></li>
<li><p><a class="reference internal" href="connection.html#connection.isolation_level" title="connection.isolation_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isolation_level</span></code></a> doesn’t read from the database but will return
<a class="reference internal" href="extensions.html#psycopg2.extensions.ISOLATION_LEVEL_DEFAULT" title="psycopg2.extensions.ISOLATION_LEVEL_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ISOLATION_LEVEL_DEFAULT</span></code></a> if no value was set on the
connection.</p></li>
<li><p>Empty arrays no more converted into lists if they don’t have a type attached
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/506">#506</a>)</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-6-2">
<h3>What’s new in psycopg 2.6.2<a class="headerlink" href="#what-s-new-in-psycopg-2-6-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed inconsistent state in externally closed connections
(tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/263">#263</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/311">#311</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/443">#443</a>).</p></li>
<li><p>Report the server response status on errors (such as ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/281">#281</a>).</p></li>
<li><p>Raise <code class="xref py py-obj docutils literal notranslate"><span class="pre">NotSupportedError</span></code> on unhandled server response status
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/352">#352</a>).</p></li>
<li><p>Allow overriding string adapter encoding with no connection (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/331">#331</a>).</p></li>
<li><p>The <a class="reference internal" href="extras.html#psycopg2.extras.wait_select" title="psycopg2.extras.wait_select"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_select</span></code></a> callback allows interrupting a
long-running query in an interactive shell using <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd>-<kbd class="kbd docutils literal notranslate">C</kbd></kbd>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/333">#333</a>).</p></li>
<li><p>Fixed <code class="xref py py-obj docutils literal notranslate"><span class="pre">PersistentConnectionPool</span></code> on Python 3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/348">#348</a>).</p></li>
<li><p>Fixed segfault on <code class="xref py py-obj docutils literal notranslate"><span class="pre">repr()</span></code> of an unitialized connection (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/361">#361</a>).</p></li>
<li><p>Allow adapting bytes using <a class="reference internal" href="extensions.html#psycopg2.extensions.QuotedString" title="psycopg2.extensions.QuotedString"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuotedString</span></code></a> on Python 3
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/365">#365</a>).</p></li>
<li><p>Added support for setuptools/wheel (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/370">#370</a>).</p></li>
<li><p>Fix build on Windows with Python 3.5, VS 2015 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/380">#380</a>).</p></li>
<li><p>Fixed <code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes.lookup</span></code> initialization thread-safety (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/382">#382</a>).</p></li>
<li><p>Fixed <code class="xref py py-obj docutils literal notranslate"><span class="pre">read()</span></code> exception propagation in copy_from (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/412">#412</a>).</p></li>
<li><p>Fixed possible NULL TZ decref  (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/424">#424</a>).</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map updated to PostgreSQL 9.5.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-6-1">
<h3>What’s new in psycopg 2.6.1<a class="headerlink" href="#what-s-new-in-psycopg-2-6-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Lists consisting of only <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> are escaped correctly (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/285">#285</a>).</p></li>
<li><p>Fixed deadlock in multithread programs using OpenSSL (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/290">#290</a>).</p></li>
<li><p>Correctly unlock the connection after error in flush (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/294">#294</a>).</p></li>
<li><p>Fixed <code class="xref py py-obj docutils literal notranslate"><span class="pre">MinTimeLoggingCursor.callproc()</span></code> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/309">#309</a>).</p></li>
<li><p>Added support for MSVC 2015 compiler (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/350">#350</a>).</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-6">
<h2>What’s new in psycopg 2.6<a class="headerlink" href="#what-s-new-in-psycopg-2-6" title="Permalink to this headline">¶</a></h2>
<p>New features:</p>
<ul class="simple">
<li><p>Added support for large objects larger than 2GB. Many thanks to Blake Rouse
and the MAAS Team for the feature development.</p></li>
<li><p>Python <a class="reference external" href="https://docs.python.org/3/library/time.html#module-time" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code></a> objects with a tzinfo specified and PostgreSQL <code class="sql docutils literal notranslate"><span class="pre">timetz</span></code>
data are converted into each other (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/272">#272</a>).</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Json adapter’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">str()</span></code> returns the adapted content instead of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">repr()</span></code>
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/191">#191</a>).</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-5-5">
<h3>What’s new in psycopg 2.5.5<a class="headerlink" href="#what-s-new-in-psycopg-2-5-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Named cursors used as context manager don’t swallow the exception on exit
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/262">#262</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.description" title="cursor.description"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.description</span></code></a> can be pickled (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/265">#265</a>).</p></li>
<li><p>Propagate read error messages in COPY FROM (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/270">#270</a>).</p></li>
<li><p>PostgreSQL time 24:00 is converted to Python 00:00 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/278">#278</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-5-4">
<h3>What’s new in psycopg 2.5.4<a class="headerlink" href="#what-s-new-in-psycopg-2-5-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="sql docutils literal notranslate"><span class="pre">jsonb</span></code> support for PostgreSQL 9.4 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/226">#226</a>).</p></li>
<li><p>Fixed segfault if COPY statements are passed to <a class="reference internal" href="cursor.html#cursor.execute" title="cursor.execute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">execute()</span></code></a> instead
of using the proper methods (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/219">#219</a>).</p></li>
<li><p>Force conversion of pool arguments to integer to avoid potentially unbounded
pools (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/220">#220</a>).</p></li>
<li><p>Cursors <code class="sql docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HOLD</span></code> don’t begin a new transaction upon move/fetch/close
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/228">#228</a>).</p></li>
<li><p>Cursors <code class="sql docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">HOLD</span></code> can be used in autocommit (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/229">#229</a>).</p></li>
<li><p><a class="reference internal" href="cursor.html#cursor.callproc" title="cursor.callproc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callproc()</span></code></a> doesn’t silently ignore an argument without a length.</p></li>
<li><p>Fixed memory leak with large objects (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/256">#256</a>).</p></li>
<li><p>Make sure the internal <code class="docutils literal notranslate"><span class="pre">_psycopg.so</span></code> module can be imported stand-alone (to
allow modules juggling such as the one described in ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/201">#201</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-5-3">
<h3>What’s new in psycopg 2.5.3<a class="headerlink" href="#what-s-new-in-psycopg-2-5-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Work around <a class="reference external" href="https://github.com/pypa/pip/issues/1630">pip issue #1630</a>
making installation via <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">-e</span> <span class="pre">git+url</span></code> impossible (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/248">#18</a>).</p></li>
<li><p>Copy operations correctly set the <a class="reference internal" href="cursor.html#cursor.rowcount" title="cursor.rowcount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor.rowcount</span></code></a> attribute
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/180">#180</a>).</p></li>
<li><p>It is now possible to call <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_transaction_status()</span></code> on closed connections.</p></li>
<li><p>Fixed unsafe access to object names causing assertion failures in
Python 3 debug builds (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/188">#188</a>).</p></li>
<li><p>Mark the connection closed if found broken on <code class="xref py py-obj docutils literal notranslate"><span class="pre">poll()</span></code> (from ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/192">#192</a>
discussion)</p></li>
<li><p>Fixed handling of dsn and closed attributes in connection subclasses
failing to connect (from ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/192">#192</a> discussion).</p></li>
<li><p>Added arbitrary but stable order to <code class="xref py py-obj docutils literal notranslate"><span class="pre">Range</span></code> objects, thanks to
Chris Withers (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/193">#193</a>).</p></li>
<li><p>Avoid blocking async connections on connect (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/194">#194</a>). Thanks to
Adam Petrovich for the bug report and diagnosis.</p></li>
<li><p>Don’t segfault using poorly defined cursor subclasses which forgot to call
the superclass init (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/195">#195</a>).</p></li>
<li><p>Mark the connection closed when a Socket connection is broken, as it
happens for TCP connections instead (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/196">#196</a>).</p></li>
<li><p>Fixed overflow opening a lobject with an oid not fitting in a signed int
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/203">#203</a>).</p></li>
<li><p>Fixed handling of explicit default <code class="docutils literal notranslate"><span class="pre">cursor_factory=None</span></code> in
<a class="reference internal" href="connection.html#connection.cursor" title="connection.cursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection.cursor()</span></code></a> (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/210">#210</a>).</p></li>
<li><p>Fixed possible segfault in named cursors creation.</p></li>
<li><p>Fixed debug build on Windows, thanks to James Emerton.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-5-2">
<h3>What’s new in psycopg 2.5.2<a class="headerlink" href="#what-s-new-in-psycopg-2-5-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed segfault pickling the exception raised on connection error
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/170">#170</a>).</p></li>
<li><p>Meaningful connection errors report a meaningful message, thanks to
Alexey Borzenkov (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/173">#173</a>).</p></li>
<li><p>Manually creating <code class="xref py py-obj docutils literal notranslate"><span class="pre">lobject</span></code> with the wrong parameter doesn’t segfault
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/187">#187</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-5-1">
<h3>What’s new in psycopg 2.5.1<a class="headerlink" href="#what-s-new-in-psycopg-2-5-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed build on Solaris 10 and 11 where the round() function is already
declared (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/146">#146</a>).</p></li>
<li><p>Fixed comparison of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Range</span></code> with non-range objects (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/164">#164</a>).
Thanks to Chris Withers for the patch.</p></li>
<li><p>Fixed double-free on connection dealloc (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/166">#166</a>). Thanks to
Gangadharan S.A. for the report and fix suggestion.</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-5">
<h2>What’s new in psycopg 2.5<a class="headerlink" href="#what-s-new-in-psycopg-2-5" title="Permalink to this headline">¶</a></h2>
<p>New features:</p>
<ul class="simple">
<li><p>Added <a class="reference internal" href="extras.html#adapt-json"><span class="std std-ref">JSON adaptation</span></a>.</p></li>
<li><p>Added <a class="reference internal" href="extras.html#adapt-range"><span class="std std-ref">support for PostgreSQL 9.2 range types</span></a>.</p></li>
<li><p><a class="reference internal" href="connection.html#connection" title="connection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection</span></code></a> and <a class="reference internal" href="cursor.html#cursor" title="cursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor</span></code></a> objects can be used in <code class="docutils literal notranslate"><span class="pre">with</span></code> statements
as context managers as specified by recent <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB API 2.0</a> extension.</p></li>
<li><p>Added <a class="reference internal" href="extensions.html#psycopg2.extensions.Diagnostics" title="psycopg2.extensions.Diagnostics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Diagnostics</span></code></a> object to get extended info
from a database error.  Many thanks to Matthew Woodcraft for the
implementation (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/149">#149</a>).</p></li>
<li><p>Added <a class="reference internal" href="connection.html#connection.cursor_factory" title="connection.cursor_factory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection.cursor_factory</span></code></a> attribute to customize the default
object returned by <a class="reference internal" href="connection.html#connection.cursor" title="connection.cursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor()</span></code></a>.</p></li>
<li><p>Added support for backward scrollable cursors. Thanks to Jon Nelson
for the initial patch (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/108">#108</a>).</p></li>
<li><p>Added a simple way to <a class="reference internal" href="extras.html#adapt-composite"><span class="std std-ref">customize casting of composite types</span></a> into Python objects other than namedtuples.
Many thanks to Ronan Dunklau and Tobias Oberstein for the feature
development.</p></li>
<li><p><a class="reference internal" href="connection.html#connection.reset" title="connection.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection.reset()</span></code></a> implemented using <code class="sql docutils literal notranslate"><span class="pre">DISCARD</span> <span class="pre">ALL</span></code> on server
versions supporting it.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Properly cleanup memory of broken connections (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/148">#148</a>).</p></li>
<li><p>Fixed bad interaction of <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> with other dependencies in
Distribute projects on Python 3 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/153">#153</a>).</p></li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li><p>Added support for Python 3.3.</p></li>
<li><p>Dropped support for Python 2.4. Please use Psycopg 2.4.x if you need it.</p></li>
<li><p><a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> map updated to PostgreSQL 9.2.</p></li>
<li><p>Dropped Zope adapter from source repository. ZPsycopgDA now has its own
project at &lt;<a class="reference external" href="https://github.com/psycopg/ZPsycopgDA">https://github.com/psycopg/ZPsycopgDA</a>&gt;.</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-4-6">
<h3>What’s new in psycopg 2.4.6<a class="headerlink" href="#what-s-new-in-psycopg-2-4-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed ‘cursor()’ arguments propagation in connection subclasses
and overriding of the ‘cursor_factory’ argument.  Thanks to
Corry Haines for the report and the initial patch (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/105">#105</a>).</p></li>
<li><p>Dropped GIL release during string adaptation around a function call
invoking a Python API function, which could cause interpreter crash.
Thanks to Manu Cupcic for the report (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/110">#110</a>).</p></li>
<li><p>Close a green connection if there is an error in the callback.
Maybe a harsh solution but it leaves the program responsive
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/113">#113</a>).</p></li>
<li><p>‘register_hstore()’, ‘register_composite()’, ‘tpc_recover()’ work with
RealDictConnection and Cursor (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/114">#114</a>).</p></li>
<li><p>Fixed broken pool for Zope and connections re-init across ZSQL methods
in the same request (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/123">#123</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/125">#125</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/142">#142</a>).</p></li>
<li><p>connect() raises an exception instead of swallowing keyword arguments
when a connection string is specified as well (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/131">#131</a>).</p></li>
<li><p>Discard any result produced by ‘executemany()’ (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/133">#133</a>).</p></li>
<li><p>Fixed pickling of FixedOffsetTimezone objects (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/135">#135</a>).</p></li>
<li><p>Release the GIL around PQgetResult calls after COPY (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/140">#140</a>).</p></li>
<li><p>Fixed empty strings handling in composite caster (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/141">#141</a>).</p></li>
<li><p>Fixed pickling of DictRow and RealDictRow objects.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-4-5">
<h3>What’s new in psycopg 2.4.5<a class="headerlink" href="#what-s-new-in-psycopg-2-4-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The close() methods on connections and cursors don’t raise exceptions
if called on already closed objects.</p></li>
<li><p>Fixed fetchmany() with no argument in cursor subclasses
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/84">#84</a>).</p></li>
<li><p>Use lo_creat() instead of lo_create() when possible for better
interaction with pgpool-II (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/88">#88</a>).</p></li>
<li><p>Error and its subclasses are picklable, useful for multiprocessing
interaction (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/90">#90</a>).</p></li>
<li><p>Better efficiency and formatting of timezone offset objects thanks
to Menno Smits (tickets <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/94">#94</a>, <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/95">#95</a>).</p></li>
<li><p>Fixed ‘rownumber’ during iteration on cursor subclasses.
Regression introduced in 2.4.4 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/100">#100</a>).</p></li>
<li><p>Added support for ‘inet’ arrays.</p></li>
<li><p>Fixed ‘commit()’ concurrency problem (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/103">#103</a>).</p></li>
<li><p>Codebase cleaned up using the GCC Python plugin’s static analysis
tool, which has revealed several unchecked return values, possible
NULL dereferences, reference counting problems. Many thanks to David
Malcolm for the useful tool and the assistance provided using it.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-4-4">
<h3>What’s new in psycopg 2.4.4<a class="headerlink" href="#what-s-new-in-psycopg-2-4-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>‘register_composite()’ also works with the types implicitly defined
after a table row, not only with the ones created by ‘CREATE TYPE’.</p></li>
<li><p>Values for the isolation level symbolic constants restored to what
they were before release 2.4.2 to avoid breaking apps using the
values instead of the constants.</p></li>
<li><p>Named DictCursor/RealDictCursor honour itersize (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/80">#80</a>).</p></li>
<li><p>Fixed rollback on error on Zope (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/73">#73</a>).</p></li>
<li><p>Raise ‘DatabaseError’ instead of ‘Error’ with empty libpq errors,
consistently with other disconnection-related errors: regression
introduced in release 2.4.1 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/82">#82</a>).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-4-3">
<h3>What’s new in psycopg 2.4.3<a class="headerlink" href="#what-s-new-in-psycopg-2-4-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>connect() supports all the keyword arguments supported by the
database</p></li>
<li><p>Added ‘new_array_type()’ function for easy creation of array
typecasters.</p></li>
<li><p>Added support for arrays of hstores and composite types (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/66">#66</a>).</p></li>
<li><p>Fixed segfault in case of transaction started with connection lost
(and possibly other events).</p></li>
<li><p>Fixed adaptation of Decimal type in sub-interpreters, such as in
certain mod_wsgi configurations (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/52">#52</a>).</p></li>
<li><p>Rollback connections in transaction or in error before putting them
back into a pool. Also discard broken connections (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/62">#62</a>).</p></li>
<li><p>Lazy import of the slow uuid module, thanks to Marko Kreen.</p></li>
<li><p>Fixed NamedTupleCursor.executemany() (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/65">#65</a>).</p></li>
<li><p>Fixed –static-libpq setup option (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/64">#64</a>).</p></li>
<li><p>Fixed interaction between RealDictCursor and named cursors
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/67">#67</a>).</p></li>
<li><p>Dropped limit on the columns length in COPY operations (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/68">#68</a>).</p></li>
<li><p>Fixed reference leak with arguments referenced more than once
in queries (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/81">#81</a>).</p></li>
<li><p>Fixed typecasting of arrays containing consecutive backslashes.</p></li>
<li><p>‘errorcodes’ map updated to PostgreSQL 9.1.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-4-2">
<h3>What’s new in psycopg 2.4.2<a class="headerlink" href="#what-s-new-in-psycopg-2-4-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added ‘set_session()’ method and ‘autocommit’ property to the
connection. Added support for read-only sessions and, for PostgreSQL
9.1, for the “repeatable read” isolation level and the “deferrable”
transaction property.</p></li>
<li><p>Psycopg doesn’t execute queries at connection time to find the
default isolation level.</p></li>
<li><p>Fixed bug with multithread code potentially causing loss of sync
with the server communication or lock of the client (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/55">#55</a>).</p></li>
<li><p>Don’t fail import if mx.DateTime module can’t be found, even if its
support was built (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/53">#53</a>).</p></li>
<li><p>Fixed escape for negative numbers prefixed by minus operator
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/57">#57</a>).</p></li>
<li><p>Fixed refcount issue during copy.  Reported and fixed by Dave
Malcolm (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/58">#58</a>, Red Hat Bug 711095).</p></li>
<li><p>Trying to execute concurrent operations on the same connection
through concurrent green thread results in an error instead of a
deadlock.</p></li>
<li><p>Fixed detection of pg_config on Window. Report and fix, plus some
long needed setup.py cleanup by Steve Lacy: thanks!</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-4-1">
<h3>What’s new in psycopg 2.4.1<a class="headerlink" href="#what-s-new-in-psycopg-2-4-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use own parser for bytea output, not requiring anymore the libpq 9.0
to parse the hex format.</p></li>
<li><p>Don’t fail connection if the client encoding is a non-normalized
variant. Issue reported by Peter Eisentraut.</p></li>
<li><p>Correctly detect an empty query sent to the backend (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/46">#46</a>).</p></li>
<li><p>Fixed a SystemError clobbering libpq errors raised without SQLSTATE.
Bug vivisectioned by Eric Snow.</p></li>
<li><p>Fixed interaction between NamedTuple and server-side cursors.</p></li>
<li><p>Allow to specify –static-libpq on setup.py command line instead of
just in ‘setup.cfg’. Patch provided by Matthew Ryan (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/48">#48</a>).</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-4">
<h2>What’s new in psycopg 2.4<a class="headerlink" href="#what-s-new-in-psycopg-2-4" title="Permalink to this headline">¶</a></h2>
<p>New features and changes:</p>
<ul class="simple">
<li><p>Added support for Python 3.1 and 3.2. The conversion has also
brought several improvements:</p>
<ul>
<li><p>Added ‘b’ and ‘t’ mode to large objects: write can deal with both
bytes strings and unicode; read can return either bytes strings
or decoded unicode.</p></li>
<li><p>COPY sends Unicode data to files implementing ‘io.TextIOBase’.</p></li>
<li><p>Improved PostgreSQL-Python encodings mapping.</p></li>
<li><p>Added a few missing encodings: EUC_CN, EUC_JIS_2004, ISO885910,
ISO885916, LATIN10, SHIFT_JIS_2004.</p></li>
<li><p>Dropped repeated dictionary lookups with unicode query/parameters.</p></li>
</ul>
</li>
<li><p>Improvements to the named cursors:</p>
<ul>
<li><p>More efficient iteration on named cursors, fetching ‘itersize’
records at time from the backend.</p></li>
<li><p>The named cursors name can be an invalid identifier.</p></li>
</ul>
</li>
<li><p>Improvements in data handling:</p>
<ul>
<li><p>Added ‘register_composite()’ function to cast PostgreSQL
composite types into Python tuples/namedtuples.</p></li>
<li><p>Adapt types ‘bytearray’ (from Python 2.6), ‘memoryview’ (from
Python 2.7) and other objects implementing the “Revised Buffer
Protocol” to ‘bytea’ data type.</p></li>
<li><p>The ‘hstore’ adapter can work even when the data type is not
installed in the ‘public’ namespace.</p></li>
<li><p>Raise a clean exception instead of returning bad data when
receiving bytea in ‘hex’ format and the client libpq can’t parse
them.</p></li>
<li><p>Empty lists correctly roundtrip Python -&gt; PostgreSQL -&gt; Python.</p></li>
</ul>
</li>
<li><p>Other changes:</p>
<ul>
<li><p>‘cursor.description’ is provided as named tuples if available.</p></li>
<li><p>The build script refuses to guess values if ‘pg_config’ is not
found.</p></li>
<li><p>Connections and cursors are weakly referenceable.</p></li>
</ul>
</li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed adaptation of None in composite types (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/26">#26</a>). Bug
report by Karsten Hilbert.</p></li>
<li><p>Fixed several reference leaks in less common code paths.</p></li>
<li><p>Fixed segfault when a large object is closed and its connection no
more available.</p></li>
<li><p>Added missing icon to ZPsycopgDA package, not available in Zope
2.12.9 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/30">#30</a>). Bug report and patch by Pumukel.</p></li>
<li><p>Fixed conversion of negative infinity (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/40">#40</a>). Bug report and
patch by Marti Raudsepp.</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-3-2">
<h3>What’s new in psycopg 2.3.2<a class="headerlink" href="#what-s-new-in-psycopg-2-3-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed segfault with middleware not passing DateStyle to the client
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/254">#24</a>). Bug report and patch by Marti Raudsepp.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-3-1">
<h3>What’s new in psycopg 2.3.1<a class="headerlink" href="#what-s-new-in-psycopg-2-3-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed build problem on CentOS 5.5 x86_64 (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/253">#23</a>).</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-3">
<h2>What’s new in psycopg 2.3<a class="headerlink" href="#what-s-new-in-psycopg-2-3" title="Permalink to this headline">¶</a></h2>
<p>psycopg 2.3 aims to expose some new features introduced in PostgreSQL 9.0.</p>
<p>Main new features:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> to <code class="xref py py-obj docutils literal notranslate"><span class="pre">hstore</span></code> adapter and <code class="xref py py-obj docutils literal notranslate"><span class="pre">hstore</span></code> to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> typecaster, using both
9.0 and pre-9.0 syntax.</p></li>
<li><p>Two-phase commit protocol support as per DBAPI specification.</p></li>
<li><p>Support for payload in notifications received from the backend.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">namedtuple</span></code>-returning cursor.</p></li>
<li><p>Query execution cancel.</p></li>
</ul>
<p>Other features and changes:</p>
<ul class="simple">
<li><p>Dropped support for protocol 2: Psycopg 2.3 can only connect to PostgreSQL
servers with version at least 7.4.</p></li>
<li><p>Don’t issue a query at every connection to detect the client encoding
and to set the datestyle to ISO if it is already compatible with what
expected.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mogrify()</span></code> now supports unicode queries.</p></li>
<li><p>Subclasses of a type that can be adapted are adapted as the superclass.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code> knows a couple of new codes introduced in PostgreSQL 9.0.</p></li>
<li><p>Dropped deprecated Psycopg “own quoting”.</p></li>
<li><p>Never issue a ROLLBACK on close/GC. This behaviour was introduced as a bug
in release 2.2, but trying to send a command while being destroyed has been
considered not safe.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed use of <code class="xref py py-obj docutils literal notranslate"><span class="pre">PQfreemem</span></code> instead of <code class="xref py py-obj docutils literal notranslate"><span class="pre">free</span></code> in binary typecaster.</p></li>
<li><p>Fixed access to freed memory in <code class="xref py py-obj docutils literal notranslate"><span class="pre">conn_get_isolation_level()</span></code>.</p></li>
<li><p>Fixed crash during Decimal adaptation with a few 2.5.x Python versions
(ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/237">#7</a>).</p></li>
<li><p>Fixed notices order (ticket <a class="reference external" href="https://github.com/psycopg/psycopg2/issues/239">#9</a>).</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-2-2">
<h3>What’s new in psycopg 2.2.2<a class="headerlink" href="#what-s-new-in-psycopg-2-2-2" title="Permalink to this headline">¶</a></h3>
<p>Bux fixes:</p>
<ul class="simple">
<li><p>the call to logging.basicConfig() in pool.py has been dropped: it was
messing with some projects using logging (and a library should not
initialize the logging system anyway.)</p></li>
<li><p>psycopg now correctly handles time zones with seconds in the UTC offset.
The old register_tstz_w_secs() function is deprecated and will raise a
warning if called.</p></li>
<li><p>Exceptions raised by the column iterator are propagated.</p></li>
<li><p>Exceptions raised by executemany() iterators are propagated.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-2-1">
<h3>What’s new in psycopg 2.2.1<a class="headerlink" href="#what-s-new-in-psycopg-2-2-1" title="Permalink to this headline">¶</a></h3>
<p>Bux fixes:</p>
<ul class="simple">
<li><p>psycopg now builds again on MS Windows.</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-2">
<h2>What’s new in psycopg 2.2<a class="headerlink" href="#what-s-new-in-psycopg-2-2" title="Permalink to this headline">¶</a></h2>
<p>This is the first release of the new 2.2 series, supporting not just one but
two different ways of executing asynchronous queries, thanks to Jan and Daniele
(with a little help from me and others, but they did 99% of the work so they
deserve their names here in the news.)</p>
<p>psycopg now supports both classic select() loops and “green” coroutine
libraries. It is all in the documentation, so just point your browser to
doc/html/advanced.html.</p>
<p>Other new features:</p>
<ul class="simple">
<li><p>truncate() method for lobjects.</p></li>
<li><p>COPY functions are now a little bit faster.</p></li>
<li><p>All builtin PostgreSQL to Python typecasters are now available from the
psycopg2.extensions module.</p></li>
<li><p>Notifications from the backend are now available right after the execute()
call (before client code needed to call isbusy() to ensure NOTIFY
reception.)</p></li>
<li><p>Better timezone support.</p></li>
<li><p>Lots of documentation updates.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed some gc/refcounting problems.</p></li>
<li><p>Fixed reference leak in NOTIFY reception.</p></li>
<li><p>Fixed problem with PostgreSQL not casting string literals to the correct
types in some situations: psycopg now add an explicit cast to dates, times
and bytea representations.</p></li>
<li><p>Fixed TimestampFromTicks() and TimeFromTicks() for seconds &gt;= 59.5.</p></li>
<li><p>Fixed spurious exception raised when calling C typecasters from Python
ones.</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-0-14">
<h3>What’s new in psycopg 2.0.14<a class="headerlink" href="#what-s-new-in-psycopg-2-0-14" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>Support for adapting tuples to PostgreSQL arrays is now enabled by
default and does not require importing psycopg2.extensions anymore.</p></li>
<li><p>“can’t adapt” error message now includes full type information.</p></li>
<li><p>Thank to Daniele Varrazzo (piro) psycopg2’s source package now includes
full documentation in HTML and plain text format.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>No loss of precision when using floats anymore.</p></li>
<li><p>decimal.Decimal “nan” and “infinity” correctly converted to PostgreSQL
numeric NaN values (note that PostgreSQL numeric type does not support
infinity but just NaNs.)</p></li>
<li><p>psycopg2.extensions now includes Binary.</p></li>
</ul>
<p>It seems we’re good citizens of the free software ecosystem and that big
big big companies and people ranting on the pgsql-hackers mailing list
we’ll now not dislike us. <em>g</em> (See LICENSE file for the details.)</p>
</section>
<section id="what-s-new-in-psycopg-2-0-13">
<h3>What’s new in psycopg 2.0.13<a class="headerlink" href="#what-s-new-in-psycopg-2-0-13" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>Support for UUID arrays.</p></li>
<li><p>It is now possible to build psycopg linking to a static libpq
library.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed a deadlock related to using the same connection with
multiple cursors from different threads.</p></li>
<li><p>Builds again with MSVC.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-12">
<h3>What’s new in psycopg 2.0.12<a class="headerlink" href="#what-s-new-in-psycopg-2-0-12" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>The connection object now has a reset() method that can be used to
reset the connection to its default state.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>copy_to() and copy_from() now accept a much larger number of columns.</p></li>
<li><p>Fixed PostgreSQL version detection.</p></li>
<li><p>Fixed ZPsycopgDA version check.</p></li>
<li><p>Fixed regression in ZPsycopgDA that made it behave wrongly when
receiving serialization errors: now the query is re-issued as it
should be by propagating the correct exception to Zope.</p></li>
<li><p>Writing “large” large objects should now work.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-11">
<h3>What’s new in psycopg 2.0.11<a class="headerlink" href="#what-s-new-in-psycopg-2-0-11" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>DictRow and RealDictRow now use less memory. If you inherit on them
remember to set __slots__ for your new attributes or be prepare to
go back to old memory usage.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Fixed exception in setup.py.</p></li>
<li><p>More robust detection of PostgreSQL development versions.</p></li>
<li><p>Fixed exception in RealDictCursor, introduced in 2.0.10.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-10">
<h3>What’s new in psycopg 2.0.10<a class="headerlink" href="#what-s-new-in-psycopg-2-0-10" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>A specialized type-caster that can parse time zones with seconds is
now available. Note that after enabling it (see extras.py) “wrong”
time zones will be parsed without raising an exception but the
result will be rounded.</p></li>
<li><p>DictCursor can be used as a named cursor.</p></li>
<li><p>DictRow now implements more dict methods.</p></li>
<li><p>The connection object now expose PostgreSQL server version as the
.server_version attribute and the protocol version used as
.protocol_version.</p></li>
<li><p>The connection object has a .get_parameter_status() methods that
can be used to obtain useful information from the server.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>None is now correctly always adapted to NULL.</p></li>
<li><p>Two double memory free errors provoked by multithreading and
garbage collection are now fixed.</p></li>
<li><p>Fixed usage of internal Python code in the notice processor; this
should fix segfaults when receiving a lot of notices in
multithreaded programs.</p></li>
<li><p>Should build again on MSVC and Solaris.</p></li>
<li><p>Should build with development versions of PostgreSQL (ones with
-devel version string.)</p></li>
<li><p>Fixed some tests that failed even when psycopg was right.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-9">
<h3>What’s new in psycopg 2.0.9<a class="headerlink" href="#what-s-new-in-psycopg-2-0-9" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>“import psycopg2.extras” to get some support for handling times
and timestamps with seconds in the time zone offset.</p></li>
<li><p>DictCursors can now be used as named cursors.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>register_type() now accept an explicit None as its second parameter.</p></li>
<li><p>psycopg2 should build again on MSVC and Solaris.</p></li>
</ul>
</section>
<section id="id1">
<h3>What’s new in psycopg 2.0.9<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>COPY TO/COPY FROM queries now can be of any size and psycopg will
correctly quote separators.</p></li>
<li><p>float values Inf and NaN are now correctly handled and can
round-trip to the database.</p></li>
<li><p>executemany() now return the numer of total INSERTed or UPDATEd
rows. Note that, as it has always been, executemany() should not
be used to execute multiple SELECT statements and while it will
execute the statements without any problem, it will return the
wrong value.</p></li>
<li><p>copy_from() and copy_to() can now use quoted separators.</p></li>
<li><p>“import psycopg2.extras” to get UUID support.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>register_type() now works on connection and cursor subclasses.</p></li>
<li><p>fixed a memory leak when using lobjects.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-8">
<h3>What’s new in psycopg 2.0.8<a class="headerlink" href="#what-s-new-in-psycopg-2-0-8" title="Permalink to this headline">¶</a></h3>
<p>New features:</p>
<ul class="simple">
<li><p>The connection object now has a get_backend_pid() method that
returns the current PostgreSQL connection backend process PID.</p></li>
<li><p>The PostgreSQL large object API has been exposed through the
Cursor.lobject() method.</p></li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li><p>Some fixes to ZPsycopgDA have been merged from the Debian package.</p></li>
<li><p>A memory leak was fixed in Cursor.executemany().</p></li>
<li><p>A double free was fixed in pq_complete_error(), that caused crashes
under some error conditions.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-7">
<h3>What’s new in psycopg 2.0.7<a class="headerlink" href="#what-s-new-in-psycopg-2-0-7" title="Permalink to this headline">¶</a></h3>
<p>Improved error handling:</p>
<ul class="simple">
<li><p>All instances of psycopg2.Error subclasses now have pgerror,
pgcode and cursor attributes.  They will be set to None if no
value is available.</p></li>
<li><p>Exception classes are now chosen based on the SQLSTATE value from
the result.  (#184)</p></li>
<li><p>The commit() and rollback() methods now set the pgerror and pgcode
attributes on exceptions. (#152)</p></li>
<li><p>errors from commit() and rollback() are no longer considered
fatal. (#194)</p></li>
<li><p>If a disconnect is detected during execute(), an exception will be
raised at that point rather than resulting in “ProgrammingError:
no results to fetch” later on. (#186)</p></li>
</ul>
<p>Better PostgreSQL compatibility:</p>
<ul class="simple">
<li><p>If the server uses standard_conforming_strings, perform
appropriate quoting.</p></li>
<li><p>BC dates are now handled if psycopg is compiled with mxDateTime
support.  If using datetime, an appropriate ValueError is
raised. (#203)</p></li>
</ul>
<p>Other bug fixes:</p>
<ul class="simple">
<li><p>If multiple sub-interpreters are in use, do not share the Decimal
type between them. (#192)</p></li>
<li><p>Buffer objects obtained from psycopg are now accepted by psycopg
too, without segfaulting. (#209)</p></li>
<li><p>A few small changes were made to improve DB-API compatibility.
All the dbapi20 tests now pass.</p></li>
</ul>
<p>Miscellaneous:</p>
<ul class="simple">
<li><p>The PSYCOPG_DISPLAY_SIZE option is now off by default.  This means
that display size will always be set to “None” in
cursor.description.  Calculating the display size was expensive,
and infrequently used so this should improve performance.</p></li>
<li><p>New QueryCanceledError and TransactionRollbackError exceptions
have been added to the psycopg2.extensions module.  They can be
used to detect statement timeouts and deadlocks respectively.</p></li>
<li><p>Cursor objects now have a “closed” attribute. (#164)</p></li>
<li><p>If psycopg has been built with debug support, it is now necessary
to set the PSYCOPG_DEBUG environment variable to turn on debug
spew.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-6">
<h3>What’s new in psycopg 2.0.6<a class="headerlink" href="#what-s-new-in-psycopg-2-0-6" title="Permalink to this headline">¶</a></h3>
<p>Better support for PostgreSQL, Python and win32:</p>
<ul class="simple">
<li><p>full support for PostgreSQL 8.2, including NULLs in arrays</p></li>
<li><p>support for almost all existing PostgreSQL encodings</p></li>
<li><p>full list of PostgreSQL error codes available by importing the
psycopg2.errorcodes module</p></li>
<li><p>full support for Python 2.5 and 64 bit architectures</p></li>
<li><p>better build support on win32 platform</p></li>
</ul>
<p>Support for per-connection type-casters (used by ZPsycopgDA too, this
fixes a long standing bug that made different connections use a random
set of date/time type-casters instead of the configured one.)</p>
<p>Better management of times and dates both from Python and in Zope.</p>
<p>copy_to and copy_from now take an extra “columns” parameter.</p>
<p>Python tuples are now adapted to SQL sequences that can be used with
the “IN” operator by default if the psycopg2.extensions module is
imported (i.e., the SQL_IN adapter was moved from extras to extensions.)</p>
<p>Fixed some small buglets and build glitches:</p>
<ul class="simple">
<li><p>removed double mutex destroy</p></li>
<li><p>removed all non-constant initializers</p></li>
<li><p>fixed PyObject_HEAD declarations to avoid memory corruption
on 64 bit architectures</p></li>
<li><p>fixed several Python API calls to work on 64 bit architectures</p></li>
<li><p>applied compatibility macros from PEP 353</p></li>
<li><p>now using more than one argument format raise an error instead of
a segfault</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-5-1">
<h3>What’s new in psycopg 2.0.5.1<a class="headerlink" href="#what-s-new-in-psycopg-2-0-5-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Now it really, really builds on MSVC and older gcc versions.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-5">
<h3>What’s new in psycopg 2.0.5<a class="headerlink" href="#what-s-new-in-psycopg-2-0-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed various buglets such as:</p>
<ul>
<li><p>segfault when passing an empty string to Binary()</p></li>
<li><p>segfault on null queries</p></li>
<li><p>segfault and bad keyword naming in .executemany()</p></li>
<li><p>OperationalError in connection objects was always None</p></li>
</ul>
</li>
<li><p>Various changes to ZPsycopgDA to make it more zope2.9-ish.</p></li>
<li><p>connect() now accept both integers and strings as port parameter</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-4">
<h3>What’s new in psycopg 2.0.4<a class="headerlink" href="#what-s-new-in-psycopg-2-0-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed float conversion bug introduced in 2.0.3.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-3">
<h3>What’s new in psycopg 2.0.3<a class="headerlink" href="#what-s-new-in-psycopg-2-0-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed various buglets and a memory leak (see ChangeLog for details)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-2">
<h3>What’s new in psycopg 2.0.2<a class="headerlink" href="#what-s-new-in-psycopg-2-0-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed a bug in array typecasting that sometimes made psycopg forget about
the last element in the array.</p></li>
<li><p>Fixed some minor buglets in string memory allocations.</p></li>
<li><p>Builds again with compilers different from gcc (#warning about PostgreSQL
version is issued only if __GCC__ is defined.)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-1">
<h3>What’s new in psycopg 2.0.1<a class="headerlink" href="#what-s-new-in-psycopg-2-0-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>ZPsycopgDA now actually loads.</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-psycopg-2-0">
<h2>What’s new in psycopg 2.0<a class="headerlink" href="#what-s-new-in-psycopg-2-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fixed handle leak on win32.</p></li>
<li><p>If available the new “safe” encoding functions of libpq are used.</p></li>
<li><p>django and tinyerp people, please switch to psycopg 2 _without_
using a psycopg 1 compatibility layer (this release was anticipated
so that you all stop grumbling about psycopg 2 is still in beta.. :)</p></li>
</ul>
<section id="what-s-new-in-psycopg-2-0-beta-7">
<h3>What’s new in psycopg 2.0 beta 7<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Ironed out last problems with times and date (should be quite solid now.)</p></li>
<li><p>Fixed problems with some arrays.</p></li>
<li><p>Slightly better ZPsycopgDA (no more double connection objects in the menu
and other minor fixes.)</p></li>
<li><p>ProgrammingError exceptions now have three extra attributes: .cursor
(it is possible to access the query that caused the exception using
error.cursor.query), .pgerror and .pgcode (PostgreSQL original error
text and code.)</p></li>
<li><p>The build system uses pg_config when available.</p></li>
<li><p>Documentation in the doc/ directory! (With many kudos to piro.)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-6">
<h3>What’s new in psycopg 2.0 beta 6<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Support for named cursors.</p></li>
<li><p>Safer parsing of time intervals.</p></li>
<li><p>Better parsing of times and dates, no more locale problems.</p></li>
<li><p>Should now play well with py2exe and similar tools.</p></li>
<li><p>The “decimal” module is now used if available under Python 2.3.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-5">
<h3>What’s new in psycopg 2.0 beta 5<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed all known bugs.</p></li>
<li><p>The initial isolation level is now read from the server and
.set_isolation_level() now takes values defined in psycopg2.extensions.</p></li>
<li><p>.callproc() implemented as a SELECT of the given procedure.</p></li>
<li><p>Better docstrings for a few functions/methods.</p></li>
<li><p>Some time-related functions like psycopg2.TimeFromTicks() now take the
local timezone into account. Also a tzinfo object (as per datetime module
specifications) can be passed to the psycopg2.Time and psycopg2.Datetime
constructors.</p></li>
<li><p>All classes have been renamed to exist in the psycopg2._psycopg module,
to fix problems with automatic documentation generators like epydoc.</p></li>
<li><p>NOTIFY is correctly trapped.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-4">
<h3>What’s new in psycopg 2.0 beta 4<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>psycopg module is now named psycopg2.</p></li>
<li><p>No more segfaults when a UNICODE query can’t be converted to the
backend encoding.</p></li>
<li><p>No more segfaults on empty queries.</p></li>
<li><p>psycopg2.connect() now takes an integer for the port keyword parameter.</p></li>
<li><p>“python setup.py bdist_rpm” now works.</p></li>
<li><p>Fixed lots of small bugs, see ChangeLog for details.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-3">
<h3>What’s new in psycopg 2.0 beta 3<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>ZPsycopgDA now works (except table browsing.)</p></li>
<li><p>psycopg build again on Python 2.2.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-2">
<h3>What’s new in psycopg 2.0 beta 2<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed ZPsycopgDA version check (ZPsycopgDA can now be imported in
Zope.)</p></li>
<li><p>psycopg.extras.DictRow works even after a new query on the generating
cursor.</p></li>
<li><p>Better setup.py for win32 (should build with MSCV or mingw.)</p></li>
<li><p>Generic fixed and memory leaks plugs.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-2-0-beta-1">
<h3>What’s new in psycopg 2.0 beta 1<a class="headerlink" href="#what-s-new-in-psycopg-2-0-beta-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Officially in beta (i.e., no new features will be added.)</p></li>
<li><p>Array support: list objects can be passed as bound variables and are
correctly returned for array columns.</p></li>
<li><p>Added the psycopg.psycopg1 compatibility module (if you want instant
psycopg 1 compatibility just “from psycopg import psycopg1 as psycopg”.)</p></li>
<li><p>Complete support for BYTEA columns and buffer objects.</p></li>
<li><p>Added error codes to error messages.</p></li>
<li><p>The AsIs adapter is now exported by default (also Decimal objects are
adapted using the AsIs adapter (when str() is called on them they
already format themselves using the right precision and scale.)</p></li>
<li><p>The connect() function now takes “connection_factory” instead of
“factory” as keyword argument.</p></li>
<li><p>New setup.py code to build on win32 using mingw and better error
messages on missing datetime headers,</p></li>
<li><p>Internal changes that allow much better user-defined type casters.</p></li>
<li><p>A lot of bugfixes (binary, datetime, 64 bit arches, GIL, .executemany())</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-13">
<h3>What’s new in psycopg 1.99.13<a class="headerlink" href="#what-s-new-in-psycopg-1-99-13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added missing .executemany() method.</p></li>
<li><p>Optimized type cast from PostgreSQL to Python (psycopg should be even
faster than before.)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-12">
<h3>What’s new in psycopg 1.99.12<a class="headerlink" href="#what-s-new-in-psycopg-1-99-12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>.rowcount should be ok and in sync with psycopg 1.</p></li>
<li><p>Implemented the new COPY FROM/COPY TO code when connection to the
backend using libpq protocol 3 (this also removes all asprintf calls:
build on win32 works again.) A protocol 3-enabled psycopg <em>can</em>
connect to an old protocol 2 database and will detect it and use the
right code.</p></li>
<li><p>getquoted() called for real by the mogrification code.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-11">
<h3>What’s new in psycopg 1.99.11<a class="headerlink" href="#what-s-new-in-psycopg-1-99-11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>‘cursor’ argument in .cursor() connection method renamed to
‘cursor_factory’.</p></li>
<li><p>changed ‘tuple_factory’ cursor attribute name to ‘row_factory’.</p></li>
<li><p>the .cursor attribute is gone and connections and cursors are properly
gc-managed.</p></li>
<li><p>fixes to the async core.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-10">
<h3>What’s new in psycopg 1.99.10<a class="headerlink" href="#what-s-new-in-psycopg-1-99-10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The adapt() function now fully supports the adaptation protocol
described in PEP 246. Note that the adapters registry now is indexed
by (type, protocol) and not by type alone. Change your adapters
accordingly.</p></li>
<li><p>More configuration options moved from setup.py to setup.cfg.</p></li>
<li><p>Fixed two memory leaks: one in cursor deallocation and one in row
fetching (.fetchXXX() methods.)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-9">
<h3>What’s new in psycopg 1.99.9<a class="headerlink" href="#what-s-new-in-psycopg-1-99-9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added simple pooling code (psycopg.pool module).</p></li>
<li><p>Added DECIMAL typecaster to convert postgresql DECIMAL and NUMERIC
types (i.e, all types with an OID of NUMERICOID.) Note that the
DECIMAL typecaster does not set scale and precision on the created
objects but uses Python defaults.</p></li>
<li><p>ZPsycopgDA back in and working using the new pooling code.</p></li>
<li><p>Isn’t that enough? :)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-8">
<h3>What’s new in psycopg 1.99.8<a class="headerlink" href="#what-s-new-in-psycopg-1-99-8" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>added support for UNICODE queries.</p></li>
<li><p>added UNICODE typecaster; to activate it just do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">psycopg</span><span class="o">.</span><span class="n">extensions</span><span class="o">.</span><span class="n">register_type</span><span class="p">(</span><span class="n">psycopg</span><span class="o">.</span><span class="n">extensions</span><span class="o">.</span><span class="n">UNICODE</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the UNICODE typecaster override the STRING one, so it is
not activated by default.</p>
</li>
<li><p>cursors now really support the iterator protocol.</p></li>
<li><p>solved the rounding errors in time conversions.</p></li>
<li><p>now cursors support .fileno() and .isready() methods, to be used in
select() calls.</p></li>
<li><p>.copy_from() and .copy_in() methods are back in (still using the old
protocol, will be updated to use new one in next release.)</p></li>
<li><p>fixed memory corruption bug reported on win32 platform.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-7">
<h3>What’s new in psycopg 1.99.7<a class="headerlink" href="#what-s-new-in-psycopg-1-99-7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added support for tuple factories in cursor objects (removed factory
argument in favor of a .tuple_factory attribute on the cursor object);
see the new module psycopg.extras for a cursor (DictCursor) that
return rows as objects that support indexing both by position and
column name.</p></li>
<li><p>added support for tzinfo objects in datetime.timestamp objects: the
PostgreSQL type “timestamp with time zone” is converted to
datetime.timestamp with a FixedOffsetTimezone initialized as necessary.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-6">
<h3>What’s new in psycopg 1.99.6<a class="headerlink" href="#what-s-new-in-psycopg-1-99-6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>sslmode parameter from 1.1.x</p></li>
<li><p>various datetime conversion improvements.</p></li>
<li><p>now psycopg should compile without mx or without native datetime
(not both, obviously.)</p></li>
<li><p>included various win32/MSVC fixes (pthread.h changes, winsock2
library, include path in setup.py, etc.)</p></li>
<li><p>ported interval fixes from 1.1.14/1.1.15.</p></li>
<li><p>the last query executed by a cursor is now available in the
.query attribute.</p></li>
<li><p>conversion of unicode strings to backend encoding now uses a table
(that still need to be filled.)</p></li>
<li><p>cursors now have a .mogrify() method that return the query string
instead of executing it.</p></li>
<li><p>connection objects now have a .dsn read-only attribute that holds the
connection string.</p></li>
<li><p>moved psycopg C module to _psycopg and made psycopg a python module:
this allows for a neat separation of DBAPI-2.0 functionality and psycopg
extensions; the psycopg namespace will be also used to provide
python-only extensions (like the pooling code, some ZPsycopgDA support
functions and the like.)</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-3">
<h3>What’s new in psycopg 1.99.3<a class="headerlink" href="#what-s-new-in-psycopg-1-99-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added support for python 2.3 datetime types (both ways) and made datetime
the default set of typecasters when available.</p></li>
<li><p>added example: dt.py.</p></li>
</ul>
</section>
<section id="id2">
<h3>What’s new in psycopg 1.99.3<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>initial working support for unicode bound variables: UTF-8 and latin-1
backend encodings are natively supported (and the encoding.py example even
works!)</p></li>
<li><p>added .set_client_encoding() method on the connection object.</p></li>
<li><p>added examples: encoding.py, binary.py, lastrowid.py.</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-2">
<h3>What’s new in psycopg 1.99.2<a class="headerlink" href="#what-s-new-in-psycopg-1-99-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>better typecasting:</p>
<ul>
<li><p>DateTimeDelta used for postgresql TIME (merge from 1.1)</p></li>
<li><p>BYTEA now is converted to a real buffer object, not to a string</p></li>
</ul>
</li>
<li><p>buffer objects are now adapted into Binary objects automatically.</p></li>
<li><p>ported scroll method from 1.1 (DBAPI-2.0 extension for cursors)</p></li>
<li><p>initial support for some DBAPI-2.0 extensions:</p>
<ul>
<li><p>.rownumber attribute for cursors</p></li>
<li><p>.connection attribute for cursors</p></li>
<li><p>.next() and .__iter__() methods to have cursors support the iterator
protocol</p></li>
<li><p>all exception objects are exported to the connection object</p></li>
</ul>
</li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-1">
<h3>What’s new in psycopg 1.99.1<a class="headerlink" href="#what-s-new-in-psycopg-1-99-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>implemented microprotocols to adapt arbitrary types to the interface used by
psycopg to bind variables in execute;</p></li>
<li><p>moved qstring, pboolean and mxdatetime to the new adapter layout (binary is
still missing; python 2.3 datetime needs to be written).</p></li>
</ul>
</section>
<section id="what-s-new-in-psycopg-1-99-0">
<h3>What’s new in psycopg 1.99.0<a class="headerlink" href="#what-s-new-in-psycopg-1-99-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>reorganized the whole source tree;</p></li>
<li><p>async core is in place;</p></li>
<li><p>splitted QuotedString objects from mx stuff;</p></li>
<li><p>dropped autotools and moved to pythonic setup.py (needs work.)</p></li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Release notes</a><ul>
<li><a class="reference internal" href="#current-release">Current release</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-9-3">What’s new in psycopg 2.9.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-9-2">What’s new in psycopg 2.9.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-9-1">What’s new in psycopg 2.9.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-9">What’s new in psycopg 2.9</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-7">What’s new in psycopg 2.8.7</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-6">What’s new in psycopg 2.8.6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-5">What’s new in psycopg 2.8.5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-4">What’s new in psycopg 2.8.4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-3">What’s new in psycopg 2.8.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-2">What’s new in psycopg 2.8.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8-1">What’s new in psycopg 2.8.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-8">What’s new in psycopg 2.8</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-7">What’s new in psycopg 2.7.7</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-6-1">What’s new in psycopg 2.7.6.1</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-6">What’s new in psycopg 2.7.6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-5">What’s new in psycopg 2.7.5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-4">What’s new in psycopg 2.7.4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-3-2">What’s new in psycopg 2.7.3.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-3-1">What’s new in psycopg 2.7.3.1</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-3">What’s new in psycopg 2.7.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-2">What’s new in psycopg 2.7.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7-1">What’s new in psycopg 2.7.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-7">What’s new in psycopg 2.7</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-6-2">What’s new in psycopg 2.6.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-6-1">What’s new in psycopg 2.6.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-6">What’s new in psycopg 2.6</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5-5">What’s new in psycopg 2.5.5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5-4">What’s new in psycopg 2.5.4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5-3">What’s new in psycopg 2.5.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5-2">What’s new in psycopg 2.5.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5-1">What’s new in psycopg 2.5.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-5">What’s new in psycopg 2.5</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-6">What’s new in psycopg 2.4.6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-5">What’s new in psycopg 2.4.5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-4">What’s new in psycopg 2.4.4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-3">What’s new in psycopg 2.4.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-2">What’s new in psycopg 2.4.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4-1">What’s new in psycopg 2.4.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-4">What’s new in psycopg 2.4</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-3-2">What’s new in psycopg 2.3.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-3-1">What’s new in psycopg 2.3.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-3">What’s new in psycopg 2.3</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-2-2">What’s new in psycopg 2.2.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-2-1">What’s new in psycopg 2.2.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-2">What’s new in psycopg 2.2</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-14">What’s new in psycopg 2.0.14</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-13">What’s new in psycopg 2.0.13</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-12">What’s new in psycopg 2.0.12</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-11">What’s new in psycopg 2.0.11</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-10">What’s new in psycopg 2.0.10</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-9">What’s new in psycopg 2.0.9</a></li>
<li><a class="reference internal" href="#id1">What’s new in psycopg 2.0.9</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-8">What’s new in psycopg 2.0.8</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-7">What’s new in psycopg 2.0.7</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-6">What’s new in psycopg 2.0.6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-5-1">What’s new in psycopg 2.0.5.1</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-5">What’s new in psycopg 2.0.5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-4">What’s new in psycopg 2.0.4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-3">What’s new in psycopg 2.0.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-2">What’s new in psycopg 2.0.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-1">What’s new in psycopg 2.0.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0">What’s new in psycopg 2.0</a><ul>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-7">What’s new in psycopg 2.0 beta 7</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-6">What’s new in psycopg 2.0 beta 6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-5">What’s new in psycopg 2.0 beta 5</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-4">What’s new in psycopg 2.0 beta 4</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-3">What’s new in psycopg 2.0 beta 3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-2">What’s new in psycopg 2.0 beta 2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-2-0-beta-1">What’s new in psycopg 2.0 beta 1</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-13">What’s new in psycopg 1.99.13</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-12">What’s new in psycopg 1.99.12</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-11">What’s new in psycopg 1.99.11</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-10">What’s new in psycopg 1.99.10</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-9">What’s new in psycopg 1.99.9</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-8">What’s new in psycopg 1.99.8</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-7">What’s new in psycopg 1.99.7</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-6">What’s new in psycopg 1.99.6</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-3">What’s new in psycopg 1.99.3</a></li>
<li><a class="reference internal" href="#id2">What’s new in psycopg 1.99.3</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-2">What’s new in psycopg 1.99.2</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-1">What’s new in psycopg 1.99.1</a></li>
<li><a class="reference internal" href="#what-s-new-in-psycopg-1-99-0">What’s new in psycopg 1.99.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
<h3>Quick search</h3>
<form class="search" action="search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="faq.html" title="Previous document">Frequently Asked Questions</a>
        </li>
        <li>
          <a href="license.html" title="Next document">License</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2001-2021, Federico Di Gregorio, Daniele Varrazzo, The Psycopg Team.

  </footer>

  
  </body>
</html>