
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The psycopg2 module content &#8212; Psycopg 2.9.3.dev0 documentation</title>
    <link rel="stylesheet" href="_static/better.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19287248-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19287248-2');
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The connection class" href="connection.html" />
    <link rel="prev" title="Basic module usage" href="usage.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="_static/psycopg.css" type="text/css" />
  </head><body>
    <header id="pageheader"><h1><a href="index.html ">
        Psycopg 2.9.3.dev0 documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="usage.html" title="Previous document">Basic module usage</a>
        </li>
        <li>
          <a href="connection.html" title="Next document">The <code class="docutils literal notranslate"><span class="pre">connection</span></code> class</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-psycopg2">
<span id="the-psycopg2-module-content"></span><h1>The <a class="reference internal" href="#module-psycopg2" title="psycopg2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2</span></code></a> module content<a class="headerlink" href="#module-psycopg2" title="Permalink to this headline">¶</a></h1>
<p>The module interface respects the standard defined in the <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB API 2.0</a>.</p>
<span class="target" id="index-0"></span><dl class="function">
<dt id="psycopg2.connect">
<code class="descclassname">psycopg2.</code><code class="descname">connect</code><span class="sig-paren">(</span><em>dsn=None</em>, <em>connection_factory=None</em>, <em>cursor_factory=None</em>, <em>async=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new database session and return a new <a class="reference internal" href="connection.html#connection" title="connection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connection</span></code></a> object.</p>
<p>The connection parameters can be specified as a <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING">libpq connection
string</a> using the <em>dsn</em> parameter:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=test user=postgres password=secret&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or using a set of keyword arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">dbname</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;secret&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or using a mix of both: if the same parameter name is specified in both
sources, the <em>kwargs</em> value will have precedence over the <em>dsn</em> value.
Note that either the <em>dsn</em> or at least one connection-related keyword
argument is required.</p>
<p>The basic connection parameters are:</p>
<ul class="simple">
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">dbname</span></code> – the database name (<code class="xref py py-obj docutils literal notranslate"><span class="pre">database</span></code> is a deprecated alias)</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">user</span></code> – user name used to authenticate</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">password</span></code> – password used to authenticate</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">host</span></code> – database host address (defaults to UNIX socket if not provided)</li>
<li><code class="xref py py-obj docutils literal notranslate"><span class="pre">port</span></code> – connection port number (defaults to 5432 if not provided)</li>
</ul>
<p>Any other connection parameter supported by the client library/server can
be passed either in the connection string or as a keyword. The PostgreSQL
documentation contains the complete list of the <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-PARAMKEYWORDS">supported parameters</a>.
Also note that the same parameters can be passed to the client library
using <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-envars.html">environment variables</a>.</p>
<p>Using the <em>connection_factory</em> parameter a different class or
connections factory can be specified. It should be a callable object
taking a <em>dsn</em> string argument. See <a class="reference internal" href="advanced.html#subclassing-connection"><span class="std std-ref">Connection and cursor factories</span></a> for
details.  If a <em>cursor_factory</em> is specified, the connection’s
<a class="reference internal" href="connection.html#connection.cursor_factory" title="connection.cursor_factory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor_factory</span></code></a> is set to it. If you only need customized
cursors you can use this parameter instead of subclassing a connection.</p>
<p>Using <em>async</em>=<code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code> an asynchronous connection will be created: see
<a class="reference internal" href="advanced.html#async-support"><span class="std std-ref">Asynchronous support</span></a> to know about advantages and limitations. <em>async_</em> is
a valid alias for the Python version where <code class="docutils literal notranslate"><span class="pre">async</span></code> is a keyword.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.4.3: </span>any keyword argument is passed to the connection. Previously only the
basic parameters (plus <code class="xref py py-obj docutils literal notranslate"><span class="pre">sslmode</span></code>) were supported as keywords.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.5: </span>added the <em>cursor_factory</em> parameter.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.7: </span>both <em>dsn</em> and keyword arguments can be specified.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.7: </span>added <em>async_</em> alias.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="extensions.html#psycopg2.extensions.parse_dsn" title="psycopg2.extensions.parse_dsn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_dsn</span></code></a></li>
<li>libpq <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-CONNSTRING">connection string syntax</a></li>
<li>libpq supported <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-connect.html#LIBPQ-PARAMKEYWORDS">connection parameters</a></li>
<li>libpq supported <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-envars.html">environment variables</a></li>
</ul>
</div>
<div class="dbapi-extension admonition">
<p class="first admonition-title">DB API extension</p>
<p class="last">The non-connection-related keyword parameters are Psycopg extensions
to the <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB API 2.0</a>.</p>
</div>
</dd></dl>

<dl class="data">
<dt id="psycopg2.apilevel">
<code class="descclassname">psycopg2.</code><code class="descname">apilevel</code><a class="headerlink" href="#psycopg2.apilevel" title="Permalink to this definition">¶</a></dt>
<dd><p>String constant stating the supported DB API level.  For <a class="reference internal" href="#module-psycopg2" title="psycopg2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2</span></code></a> is
<code class="docutils literal notranslate"><span class="pre">2.0</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.threadsafety">
<code class="descclassname">psycopg2.</code><code class="descname">threadsafety</code><a class="headerlink" href="#psycopg2.threadsafety" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer constant stating the level of thread safety the interface
supports.  For <a class="reference internal" href="#module-psycopg2" title="psycopg2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2</span></code></a> is <code class="docutils literal notranslate"><span class="pre">2</span></code>, i.e. threads can share the module
and the connection. See <a class="reference internal" href="usage.html#thread-safety"><span class="std std-ref">Thread and process safety</span></a> for details.</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.paramstyle">
<code class="descclassname">psycopg2.</code><code class="descname">paramstyle</code><a class="headerlink" href="#psycopg2.paramstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>String constant stating the type of parameter marker formatting expected
by the interface.  For <a class="reference internal" href="#module-psycopg2" title="psycopg2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2</span></code></a> is <code class="docutils literal notranslate"><span class="pre">pyformat</span></code>.  See also
<a class="reference internal" href="usage.html#query-parameters"><span class="std std-ref">Passing parameters to SQL queries</span></a>.</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.__libpq_version__">
<code class="descclassname">psycopg2.</code><code class="descname">__libpq_version__</code><a class="headerlink" href="#psycopg2.__libpq_version__" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer constant reporting the version of the <code class="docutils literal notranslate"><span class="pre">libpq</span></code> library this
<code class="docutils literal notranslate"><span class="pre">psycopg2</span></code> module was compiled with (in the same format of
<a class="reference internal" href="extensions.html#psycopg2.extensions.ConnectionInfo.server_version" title="psycopg2.extensions.ConnectionInfo.server_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">server_version</span></code></a>).  If this value is
greater or equal than <code class="docutils literal notranslate"><span class="pre">90100</span></code> then you may query the version of the
actually loaded library using the <a class="reference internal" href="extensions.html#psycopg2.extensions.libpq_version" title="psycopg2.extensions.libpq_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">libpq_version()</span></code></a>
function.</p>
</dd></dl>

<div class="section" id="exceptions">
<span id="dbapi-exceptions"></span><span id="index-1"></span><h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>In compliance with the <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB API 2.0</a>, the module makes informations about errors
available through the following exceptions:</p>
<dl class="exception">
<dt id="psycopg2.Warning">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">Warning</code><a class="headerlink" href="#psycopg2.Warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for important warnings like data truncations while
inserting, etc. It is a subclass of the Python <code class="xref py py-obj docutils literal notranslate"><span class="pre">StandardError</span></code>
(<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Exception</span></code></a> on Python 3).</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.Error">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">Error</code><a class="headerlink" href="#psycopg2.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception that is the base class of all other error exceptions. You can
use this to catch all errors with one single <code class="xref py py-obj docutils literal notranslate"><span class="pre">except</span></code> statement. Warnings
are not considered errors and thus not use this class as base. It
is a subclass of the Python <code class="xref py py-obj docutils literal notranslate"><span class="pre">StandardError</span></code> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Exception</span></code></a> on Python 3).</p>
<dl class="attribute">
<dt id="psycopg2.Error.pgerror">
<code class="descname">pgerror</code><a class="headerlink" href="#psycopg2.Error.pgerror" title="Permalink to this definition">¶</a></dt>
<dd><p>String representing the error message returned by the backend,
<code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code> if not available.</p>
</dd></dl>

<dl class="attribute">
<dt id="psycopg2.Error.pgcode">
<code class="descname">pgcode</code><a class="headerlink" href="#psycopg2.Error.pgcode" title="Permalink to this definition">¶</a></dt>
<dd><p>String representing the error code returned by the backend, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>
if not available.  The <a class="reference internal" href="errorcodes.html#module-psycopg2.errorcodes" title="psycopg2.errorcodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">errorcodes</span></code></a> module contains
symbolic constants representing PostgreSQL error codes.</p>
</dd></dl>

<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM barf&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">pgcode</span>
<span class="go">&#39;42P01&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">e</span><span class="o">.</span><span class="n">pgerror</span>
<span class="go">ERROR:  relation &quot;barf&quot; does not exist</span>
<span class="go">LINE 1: SELECT * FROM barf</span>
<span class="go">                      ^</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="psycopg2.Error.cursor">
<code class="descname">cursor</code><a class="headerlink" href="#psycopg2.Error.cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>The cursor the exception was raised from; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if not applicable.</p>
</dd></dl>

<dl class="attribute">
<dt id="psycopg2.Error.diag">
<code class="descname">diag</code><a class="headerlink" href="#psycopg2.Error.diag" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="extensions.html#psycopg2.extensions.Diagnostics" title="psycopg2.extensions.Diagnostics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Diagnostics</span></code></a> object containing further
information about the error.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM barf&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">diag</span><span class="o">.</span><span class="n">severity</span>
<span class="go">&#39;ERROR&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">diag</span><span class="o">.</span><span class="n">message_primary</span>
<span class="go">&#39;relation &quot;barf&quot; does not exist&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.5.</span></p>
</div>
</dd></dl>

<div class="dbapi-extension admonition">
<p class="first admonition-title">DB API extension</p>
<p class="last">The <a class="reference internal" href="#psycopg2.Error.pgerror" title="psycopg2.Error.pgerror"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pgerror</span></code></a>, <a class="reference internal" href="#psycopg2.Error.pgcode" title="psycopg2.Error.pgcode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pgcode</span></code></a>, <a class="reference internal" href="#psycopg2.Error.cursor" title="psycopg2.Error.cursor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cursor</span></code></a>, and
<a class="reference internal" href="#psycopg2.Error.diag" title="psycopg2.Error.diag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diag</span></code></a> attributes are Psycopg extensions.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.InterfaceError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">InterfaceError</code><a class="headerlink" href="#psycopg2.InterfaceError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for errors that are related to the database interface
rather than the database itself.  It is a subclass of <a class="reference internal" href="#psycopg2.Error" title="psycopg2.Error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Error</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.DatabaseError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">DatabaseError</code><a class="headerlink" href="#psycopg2.DatabaseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for errors that are related to the database.  It is a
subclass of <a class="reference internal" href="#psycopg2.Error" title="psycopg2.Error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Error</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.DataError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">DataError</code><a class="headerlink" href="#psycopg2.DataError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for errors that are due to problems with the processed
data like division by zero, numeric value out of range, etc. It is a
subclass of <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.OperationalError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">OperationalError</code><a class="headerlink" href="#psycopg2.OperationalError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for errors that are related to the database’s operation
and not necessarily under the control of the programmer, e.g. an
unexpected disconnect occurs, the data source name is not found, a
transaction could not be processed, a memory allocation error occurred
during processing, etc.  It is a subclass of <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.IntegrityError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">IntegrityError</code><a class="headerlink" href="#psycopg2.IntegrityError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised when the relational integrity of the database is
affected, e.g. a foreign key check fails.  It is a subclass of
<a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.InternalError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">InternalError</code><a class="headerlink" href="#psycopg2.InternalError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised when the database encounters an internal error, e.g. the
cursor is not valid anymore, the transaction is out of sync, etc.  It is a
subclass of <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.ProgrammingError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">ProgrammingError</code><a class="headerlink" href="#psycopg2.ProgrammingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised for programming errors, e.g. table not found or already
exists, syntax error in the SQL statement, wrong number of parameters
specified, etc.  It is a subclass of <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<dl class="exception">
<dt id="psycopg2.NotSupportedError">
<em class="property">exception </em><code class="descclassname">psycopg2.</code><code class="descname">NotSupportedError</code><a class="headerlink" href="#psycopg2.NotSupportedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised in case a method or database API was used which is not
supported by the database, e.g. requesting a <code class="xref py py-obj docutils literal notranslate"><span class="pre">rollback()</span></code> on a
connection that does not support transaction or has transactions turned
off.  It is a subclass of <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>.</p>
</dd></dl>

<div class="dbapi-extension admonition">
<p class="first admonition-title">DB API extension</p>
<p class="last">Psycopg actually raises a different exception for each <code class="sql docutils literal notranslate"><span class="pre">SQLSTATE</span></code>
error returned by the database: the classes are available in the
<a class="reference internal" href="errors.html#module-psycopg2.errors" title="psycopg2.errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psycopg2.errors</span></code></a> module.  Every exception class is a subclass of one of
the exception classes defined here though, so they don’t need to be
trapped specifically: trapping <code class="xref py py-obj docutils literal notranslate"><span class="pre">Error</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code> is usually
what needed to write a generic error handler; trapping a specific error
such as <code class="xref py py-obj docutils literal notranslate"><span class="pre">NotNullViolation</span></code> can be useful to write specific exception
handlers.</p>
</div>
<p>This is the exception inheritance layout:</p>
<pre class="literal-block">
<code class="xref py py-obj docutils literal notranslate"><span class="pre">StandardError</span></code>
|__ <a class="reference internal" href="#psycopg2.Warning" title="psycopg2.Warning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Warning</span></code></a>
|__ <a class="reference internal" href="#psycopg2.Error" title="psycopg2.Error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Error</span></code></a>
    |__ <a class="reference internal" href="#psycopg2.InterfaceError" title="psycopg2.InterfaceError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InterfaceError</span></code></a>
    |__ <a class="reference internal" href="#psycopg2.DatabaseError" title="psycopg2.DatabaseError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DatabaseError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.DataError" title="psycopg2.DataError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.OperationalError" title="psycopg2.OperationalError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OperationalError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.IntegrityError" title="psycopg2.IntegrityError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IntegrityError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.InternalError" title="psycopg2.InternalError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InternalError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.ProgrammingError" title="psycopg2.ProgrammingError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProgrammingError</span></code></a>
        |__ <a class="reference internal" href="#psycopg2.NotSupportedError" title="psycopg2.NotSupportedError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NotSupportedError</span></code></a>
</pre>
</div>
<div class="section" id="type-objects-and-constructors">
<span id="id7"></span><h2>Type Objects and Constructors<a class="headerlink" href="#type-objects-and-constructors" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section is mostly copied verbatim from the <a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">DB API 2.0</a>
specification.  While these objects are exposed in compliance to the
DB API, Psycopg offers very accurate tools to convert data between Python
and PostgreSQL formats.  See <a class="reference internal" href="advanced.html#adapting-new-types"><span class="std std-ref">Adapting new Python types to SQL syntax</span></a> and
<a class="reference internal" href="advanced.html#type-casting-from-sql-to-python"><span class="std std-ref">Type casting of SQL types into Python objects</span></a></p>
</div>
<p>Many databases need to have the input in a particular format for
binding to an operation’s input parameters.  For example, if an
input is destined for a DATE column, then it must be bound to the
database in a particular string format.  Similar problems exist
for “Row ID” columns or large binary items (e.g. blobs or RAW
columns).  This presents problems for Python since the parameters
to the .execute*() method are untyped.  When the database module
sees a Python string object, it doesn’t know if it should be bound
as a simple CHAR column, as a raw BINARY item, or as a DATE.</p>
<p>To overcome this problem, a module must provide the constructors
defined below to create objects that can hold special values.
When passed to the cursor methods, the module can then detect the
proper type of the input parameter and bind it accordingly.</p>
<p>A Cursor Object’s description attribute returns information about
each of the result columns of a query.  The type_code must compare
equal to one of Type Objects defined below. Type Objects may be
equal to more than one type code (e.g. DATETIME could be equal to
the type codes for date, time and timestamp columns; see the
Implementation Hints below for details).</p>
<p>The module exports the following constructors and singletons:</p>
<dl class="function">
<dt id="psycopg2.Date">
<code class="descclassname">psycopg2.</code><code class="descname">Date</code><span class="sig-paren">(</span><em>year</em>, <em>month</em>, <em>day</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.Date" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a date value.</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.Time">
<code class="descclassname">psycopg2.</code><code class="descname">Time</code><span class="sig-paren">(</span><em>hour</em>, <em>minute</em>, <em>second</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.Time" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a time value.</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.Timestamp">
<code class="descclassname">psycopg2.</code><code class="descname">Timestamp</code><span class="sig-paren">(</span><em>year</em>, <em>month</em>, <em>day</em>, <em>hour</em>, <em>minute</em>, <em>second</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.Timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a time stamp value.</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.DateFromTicks">
<code class="descclassname">psycopg2.</code><code class="descname">DateFromTicks</code><span class="sig-paren">(</span><em>ticks</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.DateFromTicks" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a date value from the given
ticks value (number of seconds since the epoch; see the documentation of
the standard Python time module for details).</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.TimeFromTicks">
<code class="descclassname">psycopg2.</code><code class="descname">TimeFromTicks</code><span class="sig-paren">(</span><em>ticks</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.TimeFromTicks" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a time value from the given
ticks value (number of seconds since the epoch; see the documentation of
the standard Python time module for details).</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.TimestampFromTicks">
<code class="descclassname">psycopg2.</code><code class="descname">TimestampFromTicks</code><span class="sig-paren">(</span><em>ticks</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.TimestampFromTicks" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object holding a time stamp value from the
given ticks value (number of seconds since the epoch; see the
documentation of the standard Python time module for details).</p>
</dd></dl>

<dl class="function">
<dt id="psycopg2.Binary">
<code class="descclassname">psycopg2.</code><code class="descname">Binary</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#psycopg2.Binary" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs an object capable of holding a binary (long)
string value.</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All the adapters returned by the module level factories (<code class="xref py py-obj docutils literal notranslate"><span class="pre">Binary</span></code>,
<code class="xref py py-obj docutils literal notranslate"><span class="pre">Date</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Timestamp</span></code> and the <code class="xref py py-obj docutils literal notranslate"><span class="pre">*FromTicks</span></code> variants) expose the
wrapped object (a regular Python object such as <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code>) in an
<code class="xref py py-obj docutils literal notranslate"><span class="pre">adapted</span></code> attribute.</p>
</div>
<dl class="data">
<dt id="psycopg2.STRING">
<code class="descclassname">psycopg2.</code><code class="descname">STRING</code><a class="headerlink" href="#psycopg2.STRING" title="Permalink to this definition">¶</a></dt>
<dd><p>This type object is used to describe columns in a database that are
string-based (e.g. CHAR).</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.BINARY">
<code class="descclassname">psycopg2.</code><code class="descname">BINARY</code><a class="headerlink" href="#psycopg2.BINARY" title="Permalink to this definition">¶</a></dt>
<dd><p>This type object is used to describe (long) binary columns in a database
(e.g. LONG, RAW, BLOBs).</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.NUMBER">
<code class="descclassname">psycopg2.</code><code class="descname">NUMBER</code><a class="headerlink" href="#psycopg2.NUMBER" title="Permalink to this definition">¶</a></dt>
<dd><p>This type object is used to describe numeric columns in a database.</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.DATETIME">
<code class="descclassname">psycopg2.</code><code class="descname">DATETIME</code><a class="headerlink" href="#psycopg2.DATETIME" title="Permalink to this definition">¶</a></dt>
<dd><p>This type object is used to describe date/time columns in a database.</p>
</dd></dl>

<dl class="data">
<dt id="psycopg2.ROWID">
<code class="descclassname">psycopg2.</code><code class="descname">ROWID</code><a class="headerlink" href="#psycopg2.ROWID" title="Permalink to this definition">¶</a></dt>
<dd><p>This type object is used to describe the “Row ID” column in a database.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code> module content</a><ul>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#type-objects-and-constructors">Type Objects and Constructors</a></li>
</ul>
</li>
</ul>

<h3>Quick search</h3>
<form class="search" action="search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="usage.html" title="Previous document">Basic module usage</a>
        </li>
        <li>
          <a href="connection.html" title="Next document">The <code class="docutils literal notranslate"><span class="pre">connection</span></code> class</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">Home</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2001-2021, Federico Di Gregorio, Daniele Varrazzo, The Psycopg Team.

  </footer>

  
  </body>
</html>